!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequire0561;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequire0561=a);var o=a("8TSCy"),i=a("aCcLp"),s=document.createElement("canvas"),l=s.getContext("2d"),f=document.body.clientWidth,u=document.body.clientHeight,d=window.devicePixelRatio;s.width=f*d,s.height=u*d,s.style.width="".concat(f,"px"),s.style.height="".concat(u,"px"),l.scale(d,d);var c=new i.DebugDraw(l);document.body.appendChild(s);var h=a("39Hjj"),g=a("8qLe2"),v=a("jRPAB");function p(e,t){e||function(e){throw new Error(e)}(t||"Assertion Error")}var b=a("9AT65"),w=new(e(b))("#E2ECC9"),m=[new(e(b))("#C33C54"),new(e(b))("#bfb915"),new(e(b))("#96ba3b"),new(e(b))("#39847f"),new(e(b))("#12416b")],y=50*Math.PI/6,k=v.default(50,f,u),D=function(){var e=g.times(g.randomInt(2,6),(function(){return g.sample(m).string()}));if(1===g.uniq(e).length)return D();var t=0;return{palette:e,current:function(){return e[t%e.length]},next:function(){return t++,e[t%e.length]},reset:function(e){t=void 0===e?0:e}}};function x(e,t){var n=e.neighbours.find((function(e){return e.triangle===t}));return p(n,"must be a neighbour"),n.sharedPoints}for(var C=new Set,T=function(){for(var e=[],t=D(),n=o.toConsumableArray(k.values()),r=0;r<2;r++){var a=n.filter((function(e){return!C.has(e)}));if(!a.length)break;var i=g.sample(a);e.push(i),C.add(i),n=i.neighbours.map((function(e){return e.triangle}))}return{triangles:e,palette:t,speed:g.random(.06,.12),offset:0,base:0,length:e.length,isDead:!1}},E=[],O=0;O<10;O++)E.push(T());g.frameLoop((function(){c.clear(w.string());var e=!0,t=!1,n=void 0;try{for(var r,a=E[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){var o=r.value;if(o.offset+=o.speed,o.offset>1){if(o.offset--,o.base++,!o.isDead){var i=o.triangles[0].neighbours.filter((function(e){return!C.has(e.triangle)}));if(i.length){var s=g.sample(i).triangle;C.add(s),o.triangles.unshift(s),o.base--,o.length++}else o.isDead=!0,E.push(T())}var l=o.triangles[o.triangles.length-o.base];l&&(C.delete(l),o.length--)}var f=o.triangles,u=o.palette;u.reset(o.base);for(var d=0;d<o.length;d++){var v=f[d],b=f[d-1],m=f[d+1],k=u.current(),D=u.next();c.beginPath(),b&&(m?(c.moveTo(h.default.average(x(v,b))),c.arcTo(v.center,m.center,24.5)):(p(b),c.moveTo(h.default.average(x(v,b))),c.lineTo(v.center)),(1!==d||o.isDead)&&c.stroke({strokeWidth:25,stroke:k,strokeCap:"round",strokeDash:[y,y],strokeDashOffset:o.offset*y}),d===o.length-1&&o.isDead||c.stroke({strokeWidth:25,stroke:D,strokeCap:"round",strokeDash:[y,y],strokeDashOffset:o.offset*y-y}))}}}catch(e){t=!0,n=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw n}}}))}();
//# sourceMappingURL=index.5c72284f.js.map
