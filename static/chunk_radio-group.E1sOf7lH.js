import{r as a,R as C}from"./chunk_index.V9mWGg2B.js";import{l as V,e as X,D as q,M as le,b as ue,I as z,o as w,H as Q,a as Y,y as Z,T as se,p as pe,c as de,d as ce,f as fe,R as me,X as ee,g as ve,s as Re,u as be,h as x,O as B,i as I,N as K,j as ge,r as J,k as Ee}from"./chunk_iconBase.ISYZkkPh.js";function he({container:e,accept:t,walk:n,enabled:s=!0}){let u=a.useRef(t),p=a.useRef(n);a.useEffect(()=>{u.current=t,p.current=n},[t,n]),V(()=>{if(!e||!s)return;let g=X(e);if(!g)return;let E=u.current,v=p.current,h=Object.assign(F=>E(F),{acceptNode:E}),R=g.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,h,!1);for(;R.nextNode();)v(R.currentNode)},[e,s,u,p])}var ke=(e=>(e[e.RegisterOption=0]="RegisterOption",e[e.UnregisterOption=1]="UnregisterOption",e))(ke||{});let ye={0(e,t){let n=[...e.options,{id:t.id,element:t.element,propsRef:t.propsRef}];return{...e,options:Ee(n,s=>s.element.current)}},1(e,t){let n=e.options.slice(),s=e.options.findIndex(u=>u.id===t.id);return s===-1?e:(n.splice(s,1),{...e,options:n})}},U=a.createContext(null);U.displayName="RadioGroupDataContext";function re(e){let t=a.useContext(U);if(t===null){let n=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,re),n}return t}let j=a.createContext(null);j.displayName="RadioGroupActionsContext";function te(e){let t=a.useContext(j);if(t===null){let n=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,te),n}return t}function Oe(e,t){return be(t.type,ye,e,t)}let Te="div";function Ce(e,t){let n=z(),{id:s=`headlessui-radiogroup-${n}`,value:u,defaultValue:p,form:g,name:E,onChange:v,by:h=(r,l)=>r===l,disabled:R=!1,...F}=e,k=w(typeof h=="string"?(r,l)=>{let i=h;return(r==null?void 0:r[i])===(l==null?void 0:l[i])}:h),[$,G]=a.useReducer(Oe,{options:[]}),d=$.options,[D,_]=Q(),[y,N]=Y(),P=a.useRef(null),W=Z(P,t),[c,L]=se(u,v,p),f=a.useMemo(()=>d.find(r=>!r.propsRef.current.disabled),[d]),O=a.useMemo(()=>d.some(r=>k(r.propsRef.current.value,c)),[d,c]),m=w(r=>{var l;if(R||k(r,c))return!1;let i=(l=d.find(T=>k(T.propsRef.current.value,r)))==null?void 0:l.propsRef.current;return i!=null&&i.disabled?!1:(L==null||L(r),!0)});he({container:P.current,accept(r){return r.getAttribute("role")==="radio"?NodeFilter.FILTER_REJECT:r.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(r){r.setAttribute("role","none")}});let H=w(r=>{let l=P.current;if(!l)return;let i=X(l),T=d.filter(o=>o.propsRef.current.disabled===!1).map(o=>o.element.current);switch(r.key){case x.Enter:ge(r.currentTarget);break;case x.ArrowLeft:case x.ArrowUp:if(r.preventDefault(),r.stopPropagation(),B(T,I.Previous|I.WrapAround)===K.Success){let o=d.find(A=>A.element.current===(i==null?void 0:i.activeElement));o&&m(o.propsRef.current.value)}break;case x.ArrowRight:case x.ArrowDown:if(r.preventDefault(),r.stopPropagation(),B(T,I.Next|I.WrapAround)===K.Success){let o=d.find(A=>A.element.current===(i==null?void 0:i.activeElement));o&&m(o.propsRef.current.value)}break;case x.Space:{r.preventDefault(),r.stopPropagation();let o=d.find(A=>A.element.current===(i==null?void 0:i.activeElement));o&&m(o.propsRef.current.value)}break}}),b=w(r=>(G({type:0,...r}),()=>G({type:1,id:r.id}))),M=a.useMemo(()=>({value:c,firstOption:f,containsCheckedOption:O,disabled:R,compare:k,...$}),[c,f,O,R,k,$]),ne=a.useMemo(()=>({registerOption:b,change:m}),[b,m]),ae={ref:W,id:s,role:"radiogroup","aria-labelledby":D,"aria-describedby":y,onKeyDown:H},oe=a.useMemo(()=>({value:c}),[c]),S=a.useRef(null),ie=pe();return a.useEffect(()=>{S.current&&p!==void 0&&ie.addEventListener(S.current,"reset",()=>{m(p)})},[S,m]),C.createElement(N,{name:"RadioGroup.Description"},C.createElement(_,{name:"RadioGroup.Label"},C.createElement(j.Provider,{value:ne},C.createElement(U.Provider,{value:M},E!=null&&c!=null&&de({[E]:c}).map(([r,l],i)=>C.createElement(ce,{features:fe.Hidden,ref:i===0?T=>{var o;S.current=(o=T==null?void 0:T.closest("form"))!=null?o:null}:void 0,...me({key:r,as:"input",type:"radio",checked:l!=null,hidden:!0,readOnly:!0,form:g,name:r,value:l})})),ee({ourProps:ae,theirProps:F,slot:oe,defaultTag:Te,name:"RadioGroup"})))))}var we=(e=>(e[e.Empty=1]="Empty",e[e.Active=2]="Active",e))(we||{});let xe="div";function Fe(e,t){var n;let s=z(),{id:u=`headlessui-radiogroup-option-${s}`,value:p,disabled:g=!1,...E}=e,v=a.useRef(null),h=Z(v,t),[R,F]=Q(),[k,$]=Y(),{addFlag:G,removeFlag:d,hasFlag:D}=ve(1),_=Re({value:p,disabled:g}),y=re("RadioGroup.Option"),N=te("RadioGroup.Option");V(()=>N.registerOption({id:u,element:v,propsRef:_}),[u,N,v,e]);let P=w(b=>{var M;if(J(b.currentTarget))return b.preventDefault();N.change(p)&&(G(2),(M=v.current)==null||M.focus())}),W=w(b=>{if(J(b.currentTarget))return b.preventDefault();G(2)}),c=w(()=>d(2)),L=((n=y.firstOption)==null?void 0:n.id)===u,f=y.disabled||g,O=y.compare(y.value,p),m={ref:h,id:u,role:"radio","aria-checked":O?"true":"false","aria-labelledby":R,"aria-describedby":k,"aria-disabled":f?!0:void 0,tabIndex:f?-1:O||!y.containsCheckedOption&&L?0:-1,onClick:f?void 0:P,onFocus:f?void 0:W,onBlur:f?void 0:c},H=a.useMemo(()=>({checked:O,disabled:f,active:D(2)}),[O,f,D]);return C.createElement($,{name:"RadioGroup.Description"},C.createElement(F,{name:"RadioGroup.Label"},ee({ourProps:m,theirProps:E,slot:H,defaultTag:xe,name:"RadioGroup.Option"})))}let $e=q(Ce),Ge=q(Fe),Ae=Object.assign($e,{Option:Ge,Label:le,Description:ue});export{Ae as y};
