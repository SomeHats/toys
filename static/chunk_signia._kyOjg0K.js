import{R as c}from"./chunk_RingBuffer.a9K5McfO.js";import{b as l,a as f}from"./chunk_utils.ferkvykK.js";import{c as p,a as s,b as m,R as h}from"./chunk_track.lGoURb00.js";import"./chunk_index.V9mWGg2B.js";const _=1;function C(r,t){const e=new WeakMap;return t.addInitializer(function(){e.set(this,p(String(t.name),()=>r.call(this)))}),function(){return l(e.get(this),"Assertion Error: computeds.get(this)").value}}function w({get:r},t){return f(t.kind==="accessor",'Assertion Error: ctx.kind === "accessor"'),{get(){return r.call(this).value},set(e){r.call(this).set(e)},init(e){return s(String(t.name),e)}}}function y(r,t){return function(...e){return m(()=>r.apply(this,e))}}function S(r,t,e){const a=g(r),n=s("delay",e.value),u=new c;return t.listen(()=>{const i=a.value*_;for(u.push({at:performance.now(),value:e.value});;){const o=u.first();if(!o)break;if(o.at+i<performance.now())n.set(o.value),u.shift();else break}}),n}function g(r){const t=s("target",typeof r=="number"?s("signal",r):null),e={name:"signal",get value(){return t.value?t.value.value:r.value},get lastChangedEpoch(){return t.value?t.value.lastChangedEpoch:r.lastChangedEpoch},getDiffSince(){return h},__unsafe__getWithoutCapture(){const a=t.__unsafe__getWithoutCapture();return a?a.__unsafe__getWithoutCapture():r.__unsafe__getWithoutCapture()},set(a){const n=t.value;return n?n.set(a):t.set(s("signal",a)),a},update(a){return e.set(a(e.value))}};return e}export{_ as T,y as a,S as d,C as m,g as n,w as r};
