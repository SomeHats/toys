{"id":"RVZ1","dependencies":[{"name":"/home/runner/work/toys/toys/tsconfig.json","includedInParent":true,"mtime":1594853935979},{"name":"/home/runner/work/toys/toys/package.json","includedInParent":true,"mtime":1594853935975},{"name":"../lib/utils","loc":{"line":20,"column":22},"parent":"/home/runner/work/toys/toys/src/network/Junction.ts","resolved":"/home/runner/work/toys/toys/src/lib/utils.ts"},{"name":"../lib/scene/SceneObject","loc":{"line":21,"column":44},"parent":"/home/runner/work/toys/toys/src/network/Junction.ts","resolved":"/home/runner/work/toys/toys/src/lib/scene/SceneObject.ts"},{"name":"../lib/geom/Circle","loc":{"line":22,"column":39},"parent":"/home/runner/work/toys/toys/src/network/Junction.ts","resolved":"/home/runner/work/toys/toys/src/lib/geom/Circle.ts"},{"name":"../lib/geom/Path","loc":{"line":23,"column":37},"parent":"/home/runner/work/toys/toys/src/network/Junction.ts","resolved":"/home/runner/work/toys/toys/src/lib/geom/Path.ts"},{"name":"./Road","loc":{"line":24,"column":37},"parent":"/home/runner/work/toys/toys/src/network/Junction.ts","resolved":"/home/runner/work/toys/toys/src/network/Road.ts"},{"name":"./networkNodes/Intersection","loc":{"line":25,"column":45},"parent":"/home/runner/work/toys/toys/src/network/Junction.ts","resolved":"/home/runner/work/toys/toys/src/network/networkNodes/Intersection.ts"},{"name":"./ConnectionDirection","loc":{"line":26,"column":52},"parent":"/home/runner/work/toys/toys/src/network/Junction.ts","resolved":"/home/runner/work/toys/toys/src/network/ConnectionDirection.ts"}],"generated":{"js":"\"use strict\";var e=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,\"__esModule\",{value:!0});var n=require(\"../lib/utils\"),i=t(require(\"../lib/scene/SceneObject\")),o=t(require(\"../lib/geom/Circle\")),r=t(require(\"../lib/geom/Path\")),c=t(require(\"./Road\")),s=t(require(\"./networkNodes/Intersection\")),u=t(require(\"./ConnectionDirection\")),a=function(t){function i(e,n,i){var r=t.call(this)||this;return r._intersectionsByAngle={},r._incomingIntersections=new Set,r._outgoingIntersections=new Set,r._roads=[],r._circle=new o.default(e,n,i),r}return e(i,t),Object.defineProperty(i.prototype,\"position\",{get:function(){return this._circle.center},enumerable:!1,configurable:!0}),i.prototype.onAddedToScene=function(e){t.prototype.onAddedToScene.call(this,e),this._roads.forEach(function(t){return e.addChild(t)})},i.prototype.getVisualConnectionPointAtAngle=function(e){return this._circle.pointOnCircumference(e)},i.prototype.connectToRoadAtAngle=function(e,t,n){var i=this,o=this._intersectionAtAngle(t);o.connectTo(e,n);var s=n===u.default.IN||this._incomingIntersections.has(o),a=n===u.default.OUT||this._outgoingIntersections.has(o);return s&&this._incomingIntersections.add(o),a&&this._outgoingIntersections.add(o),this._intersections.forEach(function(e){if(e!==o){if(s&&i._outgoingIntersections.has(e)){var t=new r.default(r.default.segmentAcrossCircle(i._circle,i._circle.center.sub(o.position).angle,e.position.sub(i._circle.center).angle));i._addRoad(new c.default(o,e,{path:t}))}if(a&&i._incomingIntersections.has(e)){t=new r.default(r.default.segmentAcrossCircle(i._circle,i._circle.center.sub(e.position).angle,o.position.sub(i._circle.center).angle));i._addRoad(new c.default(e,o,{path:t}))}}}),o},i.prototype._intersectionAtAngle=function(e){var t=e.toString();if(this._intersectionsByAngle[t])return this._intersectionsByAngle[t];var n=this._createIntersectionAtAngle(e);return this._intersectionsByAngle[t]=n,n},i.prototype._createIntersectionAtAngle=function(e){var t=this.getVisualConnectionPointAtAngle(e);return new s.default(t.x,t.y)},Object.defineProperty(i.prototype,\"_intersections\",{get:function(){var e=this;return n.compact(Object.keys(this._intersectionsByAngle).map(function(t){return e._intersectionsByAngle[t]}))},enumerable:!1,configurable:!0}),i.prototype._addRoad=function(e){this._roads.push(e),this.hasScene()&&this.getScene().addChild(e)},i}(i.default);exports.default=a;"},"sourceMaps":{"js":{"mappings":[{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":0}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":13}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":17}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":19}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":25}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":30}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":41}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":52}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":56}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":58}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":67}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":69}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":72}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":79}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":81}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":88}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":104}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":105}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":115}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":129}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":136}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":145}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":147}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":150}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":152}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":162}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":166}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":175}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":177}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":180}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":184}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":188}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":193}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":195}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":197}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":212}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":217}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":219}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":222}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":224}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":230}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":232}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":236}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":243}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":252}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":254}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":257}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":266}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":270}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":275}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":287}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":289}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":291}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":293}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":296}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":298}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":308}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":315}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":317}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":324}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":331}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":335}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":337}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":347}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":349}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":359}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":363}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":367}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":370}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":372}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":378}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":383}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":400}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":409}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":412}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":419}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":422}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":424}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":435}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":437}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":438}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":446}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":450}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":457}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":472}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":480}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":493}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":494}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":501}},{"source":"network/Junction.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":505}},{"source":"network/Junction.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":509}},{"source":"network/Junction.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":511}},{"source":"network/Junction.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":519}},{"source":"network/Junction.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":535}},{"source":"network/Junction.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":537}},{"source":"network/Junction.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":539}},{"source":"network/Junction.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":547}},{"source":"network/Junction.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":576}},{"source":"network/Junction.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":578}},{"source":"network/Junction.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":580}},{"source":"network/Junction.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":588}},{"source":"network/Junction.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":611}},{"source":"network/Junction.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":613}},{"source":"network/Junction.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":615}},{"source":"network/Junction.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":623}},{"source":"network/Junction.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":644}},{"source":"network/Junction.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":646}},{"source":"network/Junction.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":648}},{"source":"network/Junction.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":656}},{"source":"network/Junction.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":667}},{"source":"network/Junction.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":669}},{"source":"network/Junction.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":671}},{"source":"network/Junction.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":679}},{"source":"network/Junction.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":711}},{"source":"network/Junction.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":713}},{"source":"network/Junction.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":715}},{"source":"network/Junction.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":723}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":749}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":751}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":760}},{"source":"network/Junction.ts","name":null,"original":{"line":19,"column":2},"generated":{"line":1,"column":763}},{"source":"network/Junction.ts","name":null,"original":{"line":19,"column":2},"generated":{"line":1,"column":772}},{"source":"network/Junction.ts","name":null,"original":{"line":19,"column":14},"generated":{"line":1,"column":774}},{"source":"network/Junction.ts","name":null,"original":{"line":19,"column":25},"generated":{"line":1,"column":776}},{"source":"network/Junction.ts","name":null,"original":{"line":19,"column":36},"generated":{"line":1,"column":778}},{"source":"network/Junction.ts","name":null,"original":{"line":19,"column":2},"generated":{"line":1,"column":781}},{"source":"network/Junction.ts","name":null,"original":{"line":19,"column":2},"generated":{"line":1,"column":785}},{"source":"network/Junction.ts","name":null,"original":{"line":20,"column":4},"generated":{"line":1,"column":787}},{"source":"network/Junction.ts","name":null,"original":{"line":20,"column":4},"generated":{"line":1,"column":789}},{"source":"network/Junction.ts","name":null,"original":{"line":20,"column":4},"generated":{"line":1,"column":794}},{"source":"network/Junction.ts","name":null,"original":{"line":20,"column":11},"generated":{"line":1,"column":801}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":806}},{"source":"network/Junction.ts","name":null,"original":{"line":14,"column":2},"generated":{"line":1,"column":813}},{"source":"network/Junction.ts","name":null,"original":{"line":14,"column":2},"generated":{"line":1,"column":815}},{"source":"network/Junction.ts","name":null,"original":{"line":14,"column":67},"generated":{"line":1,"column":837}},{"source":"network/Junction.ts","name":null,"original":{"line":15,"column":2},"generated":{"line":1,"column":840}},{"source":"network/Junction.ts","name":null,"original":{"line":15,"column":2},"generated":{"line":1,"column":842}},{"source":"network/Junction.ts","name":null,"original":{"line":15,"column":46},"generated":{"line":1,"column":865}},{"source":"network/Junction.ts","name":null,"original":{"line":15,"column":50},"generated":{"line":1,"column":869}},{"source":"network/Junction.ts","name":null,"original":{"line":16,"column":2},"generated":{"line":1,"column":873}},{"source":"network/Junction.ts","name":null,"original":{"line":16,"column":2},"generated":{"line":1,"column":875}},{"source":"network/Junction.ts","name":null,"original":{"line":16,"column":46},"generated":{"line":1,"column":898}},{"source":"network/Junction.ts","name":null,"original":{"line":16,"column":50},"generated":{"line":1,"column":902}},{"source":"network/Junction.ts","name":null,"original":{"line":17,"column":2},"generated":{"line":1,"column":906}},{"source":"network/Junction.ts","name":null,"original":{"line":17,"column":2},"generated":{"line":1,"column":908}},{"source":"network/Junction.ts","name":null,"original":{"line":17,"column":19},"generated":{"line":1,"column":915}},{"source":"network/Junction.ts","name":null,"original":{"line":21,"column":4},"generated":{"line":1,"column":918}},{"source":"network/Junction.ts","name":null,"original":{"line":21,"column":9},"generated":{"line":1,"column":920}},{"source":"network/Junction.ts","name":null,"original":{"line":21,"column":19},"generated":{"line":1,"column":928}},{"source":"network/Junction.ts","name":null,"original":{"line":21,"column":23},"generated":{"line":1,"column":932}},{"source":"network/Junction.ts","name":null,"original":{"line":21,"column":23},"generated":{"line":1,"column":934}},{"source":"network/Junction.ts","name":null,"original":{"line":21,"column":30},"generated":{"line":1,"column":942}},{"source":"network/Junction.ts","name":null,"original":{"line":21,"column":33},"generated":{"line":1,"column":944}},{"source":"network/Junction.ts","name":null,"original":{"line":21,"column":36},"generated":{"line":1,"column":946}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":949}},{"source":"network/Junction.ts","name":null,"original":{"line":116,"column":0},"generated":{"line":1,"column":951}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":38},"generated":{"line":1,"column":958}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":38},"generated":{"line":1,"column":960}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":38},"generated":{"line":1,"column":962}},{"source":"network/Junction.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":1,"column":965}},{"source":"network/Junction.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":1,"column":972}},{"source":"network/Junction.ts","name":null,"original":{"line":24,"column":6},"generated":{"line":1,"column":987}},{"source":"network/Junction.ts","name":null,"original":{"line":24,"column":6},"generated":{"line":1,"column":989}},{"source":"network/Junction.ts","name":null,"original":{"line":24,"column":6},"generated":{"line":1,"column":999}},{"source":"network/Junction.ts","name":null,"original":{"line":24,"column":14},"generated":{"line":1,"column":1010}},{"source":"network/Junction.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":1,"column":1011}},{"source":"network/Junction.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":1,"column":1015}},{"source":"network/Junction.ts","name":null,"original":{"line":25,"column":11},"generated":{"line":1,"column":1026}},{"source":"network/Junction.ts","name":null,"original":{"line":25,"column":11},"generated":{"line":1,"column":1033}},{"source":"network/Junction.ts","name":null,"original":{"line":25,"column":16},"generated":{"line":1,"column":1038}},{"source":"network/Junction.ts","name":null,"original":{"line":25,"column":24},"generated":{"line":1,"column":1046}},{"source":"network/Junction.ts","name":null,"original":{"line":24,"column":14},"generated":{"line":1,"column":1054}},{"source":"network/Junction.ts","name":null,"original":{"line":24,"column":14},"generated":{"line":1,"column":1066}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":1068}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":1082}},{"source":"network/Junction.ts","name":null,"original":{"line":28,"column":2},"generated":{"line":1,"column":1086}},{"source":"network/Junction.ts","name":null,"original":{"line":28,"column":2},"generated":{"line":1,"column":1088}},{"source":"network/Junction.ts","name":null,"original":{"line":28,"column":2},"generated":{"line":1,"column":1098}},{"source":"network/Junction.ts","name":null,"original":{"line":28,"column":2},"generated":{"line":1,"column":1113}},{"source":"network/Junction.ts","name":null,"original":{"line":28,"column":17},"generated":{"line":1,"column":1122}},{"source":"network/Junction.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":1,"column":1125}},{"source":"network/Junction.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":1,"column":1127}},{"source":"network/Junction.ts","name":null,"original":{"line":29,"column":10},"generated":{"line":1,"column":1137}},{"source":"network/Junction.ts","name":null,"original":{"line":29,"column":24},"generated":{"line":1,"column":1152}},{"source":"network/Junction.ts","name":null,"original":{"line":29,"column":24},"generated":{"line":1,"column":1157}},{"source":"network/Junction.ts","name":null,"original":{"line":29,"column":25},"generated":{"line":1,"column":1162}},{"source":"network/Junction.ts","name":null,"original":{"line":30,"column":9},"generated":{"line":1,"column":1165}},{"source":"network/Junction.ts","name":null,"original":{"line":30,"column":9},"generated":{"line":1,"column":1170}},{"source":"network/Junction.ts","name":null,"original":{"line":30,"column":16},"generated":{"line":1,"column":1177}},{"source":"network/Junction.ts","name":null,"original":{"line":30,"column":24},"generated":{"line":1,"column":1185}},{"source":"network/Junction.ts","name":null,"original":{"line":30,"column":24},"generated":{"line":1,"column":1194}},{"source":"network/Junction.ts","name":null,"original":{"line":30,"column":32},"generated":{"line":1,"column":1197}},{"source":"network/Junction.ts","name":null,"original":{"line":30,"column":32},"generated":{"line":1,"column":1204}},{"source":"network/Junction.ts","name":null,"original":{"line":30,"column":38},"generated":{"line":1,"column":1206}},{"source":"network/Junction.ts","name":null,"original":{"line":30,"column":47},"generated":{"line":1,"column":1215}},{"source":"network/Junction.ts","name":null,"original":{"line":33,"column":2},"generated":{"line":1,"column":1221}},{"source":"network/Junction.ts","name":null,"original":{"line":33,"column":2},"generated":{"line":1,"column":1223}},{"source":"network/Junction.ts","name":null,"original":{"line":33,"column":2},"generated":{"line":1,"column":1233}},{"source":"network/Junction.ts","name":null,"original":{"line":33,"column":2},"generated":{"line":1,"column":1265}},{"source":"network/Junction.ts","name":null,"original":{"line":33,"column":34},"generated":{"line":1,"column":1274}},{"source":"network/Junction.ts","name":null,"original":{"line":34,"column":11},"generated":{"line":1,"column":1277}},{"source":"network/Junction.ts","name":null,"original":{"line":34,"column":11},"generated":{"line":1,"column":1284}},{"source":"network/Junction.ts","name":null,"original":{"line":34,"column":16},"generated":{"line":1,"column":1289}},{"source":"network/Junction.ts","name":null,"original":{"line":34,"column":24},"generated":{"line":1,"column":1297}},{"source":"network/Junction.ts","name":null,"original":{"line":34,"column":45},"generated":{"line":1,"column":1318}},{"source":"network/Junction.ts","name":null,"original":{"line":37,"column":2},"generated":{"line":1,"column":1322}},{"source":"network/Junction.ts","name":null,"original":{"line":37,"column":2},"generated":{"line":1,"column":1324}},{"source":"network/Junction.ts","name":null,"original":{"line":37,"column":2},"generated":{"line":1,"column":1334}},{"source":"network/Junction.ts","name":null,"original":{"line":37,"column":2},"generated":{"line":1,"column":1355}},{"source":"network/Junction.ts","name":null,"original":{"line":38,"column":4},"generated":{"line":1,"column":1364}},{"source":"network/Junction.ts","name":null,"original":{"line":39,"column":4},"generated":{"line":1,"column":1366}},{"source":"network/Junction.ts","name":null,"original":{"line":40,"column":4},"generated":{"line":1,"column":1368}},{"source":"network/Junction.ts","name":null,"original":{"line":37,"column":2},"generated":{"line":1,"column":1371}},{"source":"network/Junction.ts","name":null,"original":{"line":37,"column":2},"generated":{"line":1,"column":1375}},{"source":"network/Junction.ts","name":null,"original":{"line":37,"column":2},"generated":{"line":1,"column":1377}},{"source":"network/Junction.ts","name":null,"original":{"line":42,"column":10},"generated":{"line":1,"column":1382}},{"source":"network/Junction.ts","name":null,"original":{"line":42,"column":25},"generated":{"line":1,"column":1384}},{"source":"network/Junction.ts","name":null,"original":{"line":42,"column":30},"generated":{"line":1,"column":1389}},{"source":"network/Junction.ts","name":null,"original":{"line":42,"column":51},"generated":{"line":1,"column":1410}},{"source":"network/Junction.ts","name":null,"original":{"line":43,"column":4},"generated":{"line":1,"column":1413}},{"source":"network/Junction.ts","name":null,"original":{"line":43,"column":17},"generated":{"line":1,"column":1415}},{"source":"network/Junction.ts","name":null,"original":{"line":43,"column":27},"generated":{"line":1,"column":1425}},{"source":"network/Junction.ts","name":null,"original":{"line":43,"column":33},"generated":{"line":1,"column":1427}},{"source":"network/Junction.ts","name":null,"original":{"line":45,"column":10},"generated":{"line":1,"column":1430}},{"source":"network/Junction.ts","name":null,"original":{"line":45,"column":10},"generated":{"line":1,"column":1434}},{"source":"network/Junction.ts","name":null,"original":{"line":46,"column":6},"generated":{"line":1,"column":1436}},{"source":"network/Junction.ts","name":null,"original":{"line":46,"column":20},"generated":{"line":1,"column":1440}},{"source":"network/Junction.ts","name":null,"original":{"line":46,"column":20},"generated":{"line":1,"column":1442}},{"source":"network/Junction.ts","name":null,"original":{"line":46,"column":40},"generated":{"line":1,"column":1450}},{"source":"network/Junction.ts","name":null,"original":{"line":47,"column":6},"generated":{"line":1,"column":1454}},{"source":"network/Junction.ts","name":null,"original":{"line":47,"column":11},"generated":{"line":1,"column":1459}},{"source":"network/Junction.ts","name":null,"original":{"line":47,"column":34},"generated":{"line":1,"column":1482}},{"source":"network/Junction.ts","name":null,"original":{"line":47,"column":38},"generated":{"line":1,"column":1486}},{"source":"network/Junction.ts","name":null,"original":{"line":49,"column":10},"generated":{"line":1,"column":1489}},{"source":"network/Junction.ts","name":null,"original":{"line":50,"column":6},"generated":{"line":1,"column":1491}},{"source":"network/Junction.ts","name":null,"original":{"line":50,"column":20},"generated":{"line":1,"column":1495}},{"source":"network/Junction.ts","name":null,"original":{"line":50,"column":20},"generated":{"line":1,"column":1497}},{"source":"network/Junction.ts","name":null,"original":{"line":50,"column":40},"generated":{"line":1,"column":1505}},{"source":"network/Junction.ts","name":null,"original":{"line":51,"column":6},"generated":{"line":1,"column":1510}},{"source":"network/Junction.ts","name":null,"original":{"line":51,"column":11},"generated":{"line":1,"column":1515}},{"source":"network/Junction.ts","name":null,"original":{"line":51,"column":34},"generated":{"line":1,"column":1538}},{"source":"network/Junction.ts","name":null,"original":{"line":51,"column":38},"generated":{"line":1,"column":1542}},{"source":"network/Junction.ts","name":null,"original":{"line":83,"column":11},"generated":{"line":1,"column":1545}},{"source":"network/Junction.ts","name":null,"original":{"line":53,"column":8},"generated":{"line":1,"column":1552}},{"source":"network/Junction.ts","name":null,"original":{"line":53,"column":20},"generated":{"line":1,"column":1555}},{"source":"network/Junction.ts","name":null,"original":{"line":53,"column":25},"generated":{"line":1,"column":1560}},{"source":"network/Junction.ts","name":null,"original":{"line":53,"column":48},"generated":{"line":1,"column":1583}},{"source":"network/Junction.ts","name":null,"original":{"line":53,"column":52},"generated":{"line":1,"column":1587}},{"source":"network/Junction.ts","name":null,"original":{"line":54,"column":8},"generated":{"line":1,"column":1590}},{"source":"network/Junction.ts","name":null,"original":{"line":54,"column":20},"generated":{"line":1,"column":1593}},{"source":"network/Junction.ts","name":null,"original":{"line":54,"column":25},"generated":{"line":1,"column":1598}},{"source":"network/Junction.ts","name":null,"original":{"line":54,"column":48},"generated":{"line":1,"column":1621}},{"source":"network/Junction.ts","name":null,"original":{"line":54,"column":52},"generated":{"line":1,"column":1625}},{"source":"network/Junction.ts","name":null,"original":{"line":56,"column":9},"generated":{"line":1,"column":1628}},{"source":"network/Junction.ts","name":null,"original":{"line":56,"column":9},"generated":{"line":1,"column":1633}},{"source":"network/Junction.ts","name":null,"original":{"line":56,"column":24},"generated":{"line":1,"column":1648}},{"source":"network/Junction.ts","name":null,"original":{"line":56,"column":32},"generated":{"line":1,"column":1656}},{"source":"network/Junction.ts","name":null,"original":{"line":56,"column":32},"generated":{"line":1,"column":1665}},{"source":"network/Junction.ts","name":null,"original":{"line":57,"column":10},"generated":{"line":1,"column":1668}},{"source":"network/Junction.ts","name":null,"original":{"line":57,"column":10},"generated":{"line":1,"column":1671}},{"source":"network/Junction.ts","name":null,"original":{"line":57,"column":20},"generated":{"line":1,"column":1675}},{"source":"network/Junction.ts","name":null,"original":{"line":57,"column":10},"generated":{"line":1,"column":1677}},{"source":"network/Junction.ts","name":null,"original":{"line":59,"column":10},"generated":{"line":1,"column":1678}},{"source":"network/Junction.ts","name":null,"original":{"line":59,"column":10},"generated":{"line":1,"column":1681}},{"source":"network/Junction.ts","name":null,"original":{"line":59,"column":24},"generated":{"line":1,"column":1684}},{"source":"network/Junction.ts","name":null,"original":{"line":59,"column":29},"generated":{"line":1,"column":1686}},{"source":"network/Junction.ts","name":null,"original":{"line":59,"column":52},"generated":{"line":1,"column":1709}},{"source":"network/Junction.ts","name":null,"original":{"line":59,"column":56},"generated":{"line":1,"column":1713}},{"source":"network/Junction.ts","name":null,"original":{"line":59,"column":64},"generated":{"line":1,"column":1716}},{"source":"network/Junction.ts","name":null,"original":{"line":60,"column":14},"generated":{"line":1,"column":1717}},{"source":"network/Junction.ts","name":null,"original":{"line":60,"column":14},"generated":{"line":1,"column":1721}},{"source":"network/Junction.ts","name":null,"original":{"line":60,"column":21},"generated":{"line":1,"column":1723}},{"source":"network/Junction.ts","name":null,"original":{"line":60,"column":25},"generated":{"line":1,"column":1727}},{"source":"network/Junction.ts","name":null,"original":{"line":60,"column":25},"generated":{"line":1,"column":1729}},{"source":"network/Junction.ts","name":null,"original":{"line":61,"column":10},"generated":{"line":1,"column":1737}},{"source":"network/Junction.ts","name":null,"original":{"line":61,"column":10},"generated":{"line":1,"column":1739}},{"source":"network/Junction.ts","name":null,"original":{"line":61,"column":15},"generated":{"line":1,"column":1747}},{"source":"network/Junction.ts","name":null,"original":{"line":62,"column":12},"generated":{"line":1,"column":1767}},{"source":"network/Junction.ts","name":null,"original":{"line":62,"column":17},"generated":{"line":1,"column":1769}},{"source":"network/Junction.ts","name":null,"original":{"line":63,"column":12},"generated":{"line":1,"column":1777}},{"source":"network/Junction.ts","name":null,"original":{"line":63,"column":17},"generated":{"line":1,"column":1779}},{"source":"network/Junction.ts","name":null,"original":{"line":63,"column":25},"generated":{"line":1,"column":1787}},{"source":"network/Junction.ts","name":null,"original":{"line":63,"column":32},"generated":{"line":1,"column":1794}},{"source":"network/Junction.ts","name":null,"original":{"line":63,"column":36},"generated":{"line":1,"column":1798}},{"source":"network/Junction.ts","name":null,"original":{"line":63,"column":49},"generated":{"line":1,"column":1800}},{"source":"network/Junction.ts","name":null,"original":{"line":63,"column":59},"generated":{"line":1,"column":1810}},{"source":"network/Junction.ts","name":null,"original":{"line":64,"column":12},"generated":{"line":1,"column":1816}},{"source":"network/Junction.ts","name":null,"original":{"line":64,"column":18},"generated":{"line":1,"column":1818}},{"source":"network/Junction.ts","name":null,"original":{"line":64,"column":27},"generated":{"line":1,"column":1827}},{"source":"network/Junction.ts","name":null,"original":{"line":64,"column":31},"generated":{"line":1,"column":1831}},{"source":"network/Junction.ts","name":null,"original":{"line":64,"column":36},"generated":{"line":1,"column":1833}},{"source":"network/Junction.ts","name":null,"original":{"line":64,"column":44},"generated":{"line":1,"column":1841}},{"source":"network/Junction.ts","name":null,"original":{"line":64,"column":52},"generated":{"line":1,"column":1849}},{"source":"network/Junction.ts","name":null,"original":{"line":68,"column":8},"generated":{"line":1,"column":1857}},{"source":"network/Junction.ts","name":null,"original":{"line":68,"column":13},"generated":{"line":1,"column":1859}},{"source":"network/Junction.ts","name":null,"original":{"line":68,"column":22},"generated":{"line":1,"column":1868}},{"source":"network/Junction.ts","name":null,"original":{"line":68,"column":26},"generated":{"line":1,"column":1872}},{"source":"network/Junction.ts","name":null,"original":{"line":68,"column":26},"generated":{"line":1,"column":1874}},{"source":"network/Junction.ts","name":null,"original":{"line":68,"column":31},"generated":{"line":1,"column":1882}},{"source":"network/Junction.ts","name":null,"original":{"line":68,"column":45},"generated":{"line":1,"column":1884}},{"source":"network/Junction.ts","name":null,"original":{"line":68,"column":52},"generated":{"line":1,"column":1886}},{"source":"network/Junction.ts","name":null,"original":{"line":68,"column":54},"generated":{"line":1,"column":1887}},{"source":"network/Junction.ts","name":null,"original":{"line":68,"column":58},"generated":{"line":1,"column":1892}},{"source":"network/Junction.ts","name":null,"original":{"line":71,"column":10},"generated":{"line":1,"column":1897}},{"source":"network/Junction.ts","name":null,"original":{"line":71,"column":10},"generated":{"line":1,"column":1900}},{"source":"network/Junction.ts","name":null,"original":{"line":71,"column":24},"generated":{"line":1,"column":1903}},{"source":"network/Junction.ts","name":null,"original":{"line":71,"column":29},"generated":{"line":1,"column":1905}},{"source":"network/Junction.ts","name":null,"original":{"line":71,"column":52},"generated":{"line":1,"column":1928}},{"source":"network/Junction.ts","name":null,"original":{"line":71,"column":56},"generated":{"line":1,"column":1932}},{"source":"network/Junction.ts","name":null,"original":{"line":71,"column":64},"generated":{"line":1,"column":1935}},{"source":"network/Junction.ts","name":null,"original":{"line":72,"column":14},"generated":{"line":1,"column":1936}},{"source":"network/Junction.ts","name":null,"original":{"line":72,"column":21},"generated":{"line":1,"column":1938}},{"source":"network/Junction.ts","name":null,"original":{"line":72,"column":25},"generated":{"line":1,"column":1942}},{"source":"network/Junction.ts","name":null,"original":{"line":72,"column":25},"generated":{"line":1,"column":1944}},{"source":"network/Junction.ts","name":null,"original":{"line":73,"column":10},"generated":{"line":1,"column":1952}},{"source":"network/Junction.ts","name":null,"original":{"line":73,"column":10},"generated":{"line":1,"column":1954}},{"source":"network/Junction.ts","name":null,"original":{"line":73,"column":15},"generated":{"line":1,"column":1962}},{"source":"network/Junction.ts","name":null,"original":{"line":74,"column":12},"generated":{"line":1,"column":1982}},{"source":"network/Junction.ts","name":null,"original":{"line":74,"column":17},"generated":{"line":1,"column":1984}},{"source":"network/Junction.ts","name":null,"original":{"line":75,"column":12},"generated":{"line":1,"column":1992}},{"source":"network/Junction.ts","name":null,"original":{"line":75,"column":17},"generated":{"line":1,"column":1994}},{"source":"network/Junction.ts","name":null,"original":{"line":75,"column":25},"generated":{"line":1,"column":2002}},{"source":"network/Junction.ts","name":null,"original":{"line":75,"column":32},"generated":{"line":1,"column":2009}},{"source":"network/Junction.ts","name":null,"original":{"line":75,"column":36},"generated":{"line":1,"column":2013}},{"source":"network/Junction.ts","name":null,"original":{"line":75,"column":42},"generated":{"line":1,"column":2015}},{"source":"network/Junction.ts","name":null,"original":{"line":75,"column":52},"generated":{"line":1,"column":2025}},{"source":"network/Junction.ts","name":null,"original":{"line":76,"column":12},"generated":{"line":1,"column":2031}},{"source":"network/Junction.ts","name":null,"original":{"line":76,"column":25},"generated":{"line":1,"column":2033}},{"source":"network/Junction.ts","name":null,"original":{"line":76,"column":34},"generated":{"line":1,"column":2042}},{"source":"network/Junction.ts","name":null,"original":{"line":76,"column":38},"generated":{"line":1,"column":2046}},{"source":"network/Junction.ts","name":null,"original":{"line":76,"column":43},"generated":{"line":1,"column":2048}},{"source":"network/Junction.ts","name":null,"original":{"line":76,"column":51},"generated":{"line":1,"column":2056}},{"source":"network/Junction.ts","name":null,"original":{"line":76,"column":59},"generated":{"line":1,"column":2064}},{"source":"network/Junction.ts","name":null,"original":{"line":79,"column":8},"generated":{"line":1,"column":2072}},{"source":"network/Junction.ts","name":null,"original":{"line":79,"column":13},"generated":{"line":1,"column":2074}},{"source":"network/Junction.ts","name":null,"original":{"line":79,"column":22},"generated":{"line":1,"column":2083}},{"source":"network/Junction.ts","name":null,"original":{"line":79,"column":26},"generated":{"line":1,"column":2087}},{"source":"network/Junction.ts","name":null,"original":{"line":79,"column":26},"generated":{"line":1,"column":2089}},{"source":"network/Junction.ts","name":null,"original":{"line":79,"column":31},"generated":{"line":1,"column":2097}},{"source":"network/Junction.ts","name":null,"original":{"line":79,"column":38},"generated":{"line":1,"column":2099}},{"source":"network/Junction.ts","name":null,"original":{"line":79,"column":52},"generated":{"line":1,"column":2101}},{"source":"network/Junction.ts","name":null,"original":{"line":79,"column":54},"generated":{"line":1,"column":2102}},{"source":"network/Junction.ts","name":null,"original":{"line":79,"column":58},"generated":{"line":1,"column":2107}},{"source":"network/Junction.ts","name":null,"original":{"line":83,"column":11},"generated":{"line":1,"column":2116}},{"source":"network/Junction.ts","name":null,"original":{"line":86,"column":2},"generated":{"line":1,"column":2119}},{"source":"network/Junction.ts","name":null,"original":{"line":86,"column":2},"generated":{"line":1,"column":2121}},{"source":"network/Junction.ts","name":null,"original":{"line":86,"column":2},"generated":{"line":1,"column":2131}},{"source":"network/Junction.ts","name":null,"original":{"line":86,"column":2},"generated":{"line":1,"column":2152}},{"source":"network/Junction.ts","name":null,"original":{"line":86,"column":23},"generated":{"line":1,"column":2161}},{"source":"network/Junction.ts","name":null,"original":{"line":87,"column":10},"generated":{"line":1,"column":2164}},{"source":"network/Junction.ts","name":null,"original":{"line":87,"column":10},"generated":{"line":1,"column":2168}},{"source":"network/Junction.ts","name":null,"original":{"line":87,"column":21},"generated":{"line":1,"column":2170}},{"source":"network/Junction.ts","name":null,"original":{"line":87,"column":27},"generated":{"line":1,"column":2172}},{"source":"network/Junction.ts","name":null,"original":{"line":88,"column":8},"generated":{"line":1,"column":2183}},{"source":"network/Junction.ts","name":null,"original":{"line":88,"column":8},"generated":{"line":1,"column":2186}},{"source":"network/Junction.ts","name":null,"original":{"line":88,"column":13},"generated":{"line":1,"column":2191}},{"source":"network/Junction.ts","name":null,"original":{"line":88,"column":35},"generated":{"line":1,"column":2213}},{"source":"network/Junction.ts","name":null,"original":{"line":89,"column":13},"generated":{"line":1,"column":2216}},{"source":"network/Junction.ts","name":null,"original":{"line":89,"column":13},"generated":{"line":1,"column":2223}},{"source":"network/Junction.ts","name":null,"original":{"line":89,"column":18},"generated":{"line":1,"column":2228}},{"source":"network/Junction.ts","name":null,"original":{"line":89,"column":40},"generated":{"line":1,"column":2250}},{"source":"network/Junction.ts","name":null,"original":{"line":92,"column":10},"generated":{"line":1,"column":2253}},{"source":"network/Junction.ts","name":null,"original":{"line":92,"column":10},"generated":{"line":1,"column":2257}},{"source":"network/Junction.ts","name":null,"original":{"line":92,"column":25},"generated":{"line":1,"column":2259}},{"source":"network/Junction.ts","name":null,"original":{"line":92,"column":30},"generated":{"line":1,"column":2264}},{"source":"network/Junction.ts","name":null,"original":{"line":92,"column":57},"generated":{"line":1,"column":2291}},{"source":"network/Junction.ts","name":null,"original":{"line":94,"column":11},"generated":{"line":1,"column":2294}},{"source":"network/Junction.ts","name":null,"original":{"line":93,"column":9},"generated":{"line":1,"column":2301}},{"source":"network/Junction.ts","name":null,"original":{"line":93,"column":9},"generated":{"line":1,"column":2306}},{"source":"network/Junction.ts","name":null,"original":{"line":93,"column":31},"generated":{"line":1,"column":2328}},{"source":"network/Junction.ts","name":null,"original":{"line":93,"column":43},"generated":{"line":1,"column":2331}},{"source":"network/Junction.ts","name":null,"original":{"line":94,"column":11},"generated":{"line":1,"column":2333}},{"source":"network/Junction.ts","name":null,"original":{"line":97,"column":2},"generated":{"line":1,"column":2336}},{"source":"network/Junction.ts","name":null,"original":{"line":97,"column":2},"generated":{"line":1,"column":2338}},{"source":"network/Junction.ts","name":null,"original":{"line":97,"column":2},"generated":{"line":1,"column":2348}},{"source":"network/Junction.ts","name":null,"original":{"line":97,"column":2},"generated":{"line":1,"column":2375}},{"source":"network/Junction.ts","name":null,"original":{"line":97,"column":29},"generated":{"line":1,"column":2384}},{"source":"network/Junction.ts","name":null,"original":{"line":98,"column":10},"generated":{"line":1,"column":2387}},{"source":"network/Junction.ts","name":null,"original":{"line":98,"column":10},"generated":{"line":1,"column":2391}},{"source":"network/Junction.ts","name":null,"original":{"line":98,"column":21},"generated":{"line":1,"column":2393}},{"source":"network/Junction.ts","name":null,"original":{"line":98,"column":26},"generated":{"line":1,"column":2398}},{"source":"network/Junction.ts","name":null,"original":{"line":98,"column":58},"generated":{"line":1,"column":2430}},{"source":"network/Junction.ts","name":null,"original":{"line":99,"column":11},"generated":{"line":1,"column":2433}},{"source":"network/Junction.ts","name":null,"original":{"line":99,"column":11},"generated":{"line":1,"column":2440}},{"source":"network/Junction.ts","name":null,"original":{"line":99,"column":15},"generated":{"line":1,"column":2444}},{"source":"network/Junction.ts","name":null,"original":{"line":99,"column":15},"generated":{"line":1,"column":2446}},{"source":"network/Junction.ts","name":null,"original":{"line":99,"column":28},"generated":{"line":1,"column":2454}},{"source":"network/Junction.ts","name":null,"original":{"line":99,"column":37},"generated":{"line":1,"column":2456}},{"source":"network/Junction.ts","name":null,"original":{"line":99,"column":40},"generated":{"line":1,"column":2458}},{"source":"network/Junction.ts","name":null,"original":{"line":99,"column":49},"generated":{"line":1,"column":2460}},{"source":"network/Junction.ts","name":null,"original":{"line":102,"column":2},"generated":{"line":1,"column":2464}},{"source":"network/Junction.ts","name":null,"original":{"line":102,"column":2},"generated":{"line":1,"column":2471}},{"source":"network/Junction.ts","name":null,"original":{"line":102,"column":6},"generated":{"line":1,"column":2486}},{"source":"network/Junction.ts","name":null,"original":{"line":102,"column":6},"generated":{"line":1,"column":2488}},{"source":"network/Junction.ts","name":null,"original":{"line":102,"column":6},"generated":{"line":1,"column":2498}},{"source":"network/Junction.ts","name":null,"original":{"line":102,"column":20},"generated":{"line":1,"column":2515}},{"source":"network/Junction.ts","name":null,"original":{"line":102,"column":2},"generated":{"line":1,"column":2516}},{"source":"network/Junction.ts","name":null,"original":{"line":102,"column":2},"generated":{"line":1,"column":2520}},{"source":"network/Junction.ts","name":null,"original":{"line":102,"column":2},"generated":{"line":1,"column":2531}},{"source":"network/Junction.ts","name":null,"original":{"line":102,"column":2},"generated":{"line":1,"column":2535}},{"source":"network/Junction.ts","name":null,"original":{"line":102,"column":2},"generated":{"line":1,"column":2537}},{"source":"network/Junction.ts","name":null,"original":{"line":103,"column":11},"generated":{"line":1,"column":2542}},{"source":"network/Junction.ts","name":null,"original":{"line":103,"column":11},"generated":{"line":1,"column":2549}},{"source":"network/Junction.ts","name":null,"original":{"line":103,"column":11},"generated":{"line":1,"column":2551}},{"source":"network/Junction.ts","name":null,"original":{"line":104,"column":6},"generated":{"line":1,"column":2559}},{"source":"network/Junction.ts","name":null,"original":{"line":104,"column":13},"generated":{"line":1,"column":2566}},{"source":"network/Junction.ts","name":null,"original":{"line":104,"column":18},"generated":{"line":1,"column":2571}},{"source":"network/Junction.ts","name":null,"original":{"line":104,"column":23},"generated":{"line":1,"column":2576}},{"source":"network/Junction.ts","name":null,"original":{"line":104,"column":46},"generated":{"line":1,"column":2599}},{"source":"network/Junction.ts","name":null,"original":{"line":105,"column":8},"generated":{"line":1,"column":2603}},{"source":"network/Junction.ts","name":null,"original":{"line":105,"column":8},"generated":{"line":1,"column":2612}},{"source":"network/Junction.ts","name":null,"original":{"line":105,"column":17},"generated":{"line":1,"column":2615}},{"source":"network/Junction.ts","name":null,"original":{"line":105,"column":17},"generated":{"line":1,"column":2622}},{"source":"network/Junction.ts","name":null,"original":{"line":105,"column":22},"generated":{"line":1,"column":2624}},{"source":"network/Junction.ts","name":null,"original":{"line":105,"column":44},"generated":{"line":1,"column":2646}},{"source":"network/Junction.ts","name":null,"original":{"line":102,"column":20},"generated":{"line":1,"column":2653}},{"source":"network/Junction.ts","name":null,"original":{"line":102,"column":20},"generated":{"line":1,"column":2665}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":2667}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":2681}},{"source":"network/Junction.ts","name":null,"original":{"line":110,"column":2},"generated":{"line":1,"column":2685}},{"source":"network/Junction.ts","name":null,"original":{"line":110,"column":2},"generated":{"line":1,"column":2687}},{"source":"network/Junction.ts","name":null,"original":{"line":110,"column":2},"generated":{"line":1,"column":2697}},{"source":"network/Junction.ts","name":null,"original":{"line":110,"column":2},"generated":{"line":1,"column":2706}},{"source":"network/Junction.ts","name":null,"original":{"line":110,"column":11},"generated":{"line":1,"column":2715}},{"source":"network/Junction.ts","name":null,"original":{"line":111,"column":9},"generated":{"line":1,"column":2718}},{"source":"network/Junction.ts","name":null,"original":{"line":111,"column":9},"generated":{"line":1,"column":2723}},{"source":"network/Junction.ts","name":null,"original":{"line":111,"column":16},"generated":{"line":1,"column":2730}},{"source":"network/Junction.ts","name":null,"original":{"line":111,"column":21},"generated":{"line":1,"column":2735}},{"source":"network/Junction.ts","name":null,"original":{"line":112,"column":8},"generated":{"line":1,"column":2738}},{"source":"network/Junction.ts","name":null,"original":{"line":112,"column":13},"generated":{"line":1,"column":2743}},{"source":"network/Junction.ts","name":null,"original":{"line":113,"column":11},"generated":{"line":1,"column":2755}},{"source":"network/Junction.ts","name":null,"original":{"line":113,"column":11},"generated":{"line":1,"column":2760}},{"source":"network/Junction.ts","name":null,"original":{"line":113,"column":22},"generated":{"line":1,"column":2771}},{"source":"network/Junction.ts","name":null,"original":{"line":113,"column":31},"generated":{"line":1,"column":2780}},{"source":"network/Junction.ts","name":null,"original":{"line":116,"column":0},"generated":{"line":1,"column":2784}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":2786}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":38},"generated":{"line":1,"column":2787}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":38},"generated":{"line":1,"column":2789}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":2798}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":2806}},{"source":"network/Junction.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":2814}}],"sources":{"network/Junction.ts":"// @flow\nimport { compact } from '../lib/utils';\nimport SceneObject from '../lib/scene/SceneObject';\nimport Scene from '../lib/scene/Scene';\nimport Vector2 from '../lib/geom/Vector2';\nimport Circle from '../lib/geom/Circle';\nimport Path from '../lib/geom/Path';\nimport Road from './Road';\nimport Intersection from './networkNodes/Intersection';\nimport ConnectionDirection from './ConnectionDirection';\n\nexport default class Junction extends SceneObject {\n  _circle: Circle;\n  _intersectionsByAngle: { [angleString: string]: Intersection } = {};\n  _incomingIntersections: Set<Intersection> = new Set();\n  _outgoingIntersections: Set<Intersection> = new Set();\n  _roads: Road[] = [];\n\n  constructor(x: number, y: number, radius: number) {\n    super();\n    this._circle = new Circle(x, y, radius);\n  }\n\n  get position(): Vector2 {\n    return this._circle.center;\n  }\n\n  onAddedToScene(scene: Scene) {\n    super.onAddedToScene(scene);\n    this._roads.forEach(road => scene.addChild(road));\n  }\n\n  getVisualConnectionPointAtAngle(radians: number): Vector2 {\n    return this._circle.pointOnCircumference(radians);\n  }\n\n  connectToRoadAtAngle(\n    road: Road,\n    angle: number,\n    direction: ConnectionDirection,\n  ): Intersection {\n    const intersection = this._intersectionAtAngle(angle);\n    intersection.connectTo(road, direction);\n\n    const isIncoming =\n      direction === ConnectionDirection.IN ||\n      this._incomingIntersections.has(intersection);\n\n    const isOutgoing =\n      direction === ConnectionDirection.OUT ||\n      this._outgoingIntersections.has(intersection);\n\n    if (isIncoming) this._incomingIntersections.add(intersection);\n    if (isOutgoing) this._outgoingIntersections.add(intersection);\n\n    this._intersections.forEach(other => {\n      if (other === intersection) return;\n\n      if (isIncoming && this._outgoingIntersections.has(other)) {\n        const path = new Path(\n          Path.segmentAcrossCircle(\n            this._circle,\n            this._circle.center.sub(intersection.position).angle,\n            other.position.sub(this._circle.center).angle,\n          ),\n        );\n\n        this._addRoad(new Road(intersection, other, { path }));\n      }\n\n      if (isOutgoing && this._incomingIntersections.has(other)) {\n        const path = new Path(\n          Path.segmentAcrossCircle(\n            this._circle,\n            this._circle.center.sub(other.position).angle,\n            intersection.position.sub(this._circle.center).angle,\n          ),\n        );\n        this._addRoad(new Road(other, intersection, { path }));\n      }\n    });\n\n    return intersection;\n  }\n\n  _intersectionAtAngle(angle: number): Intersection {\n    const angleStr = angle.toString();\n    if (this._intersectionsByAngle[angleStr]) {\n      return this._intersectionsByAngle[angleStr];\n    }\n\n    const intersection = this._createIntersectionAtAngle(angle);\n    this._intersectionsByAngle[angleStr] = intersection;\n    return intersection;\n  }\n\n  _createIntersectionAtAngle(angle: number): Intersection {\n    const position = this.getVisualConnectionPointAtAngle(angle);\n    return new Intersection(position.x, position.y);\n  }\n\n  get _intersections(): Intersection[] {\n    return compact(\n      Object.keys(this._intersectionsByAngle).map(\n        angle => this._intersectionsByAngle[angle],\n      ),\n    );\n  }\n\n  _addRoad(road: Road) {\n    this._roads.push(road);\n    if (this.hasScene()) {\n      this.getScene().addChild(road);\n    }\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"ff23af1cb6b72b9dbbf68a5249e0fd20","cacheData":{"env":{}}}