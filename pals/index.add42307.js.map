{"mappings":"ymBAUMA,EAAOC,SAASC,eAAe,QACrCC,EAAAC,OAAOJ,GAEP,IAAMK,EAAQ,IAAIC,EAAAC,QAAM,IAAK,IAAKC,OAAOC,kBACzCJ,EAAMK,SAASV,GAGf,IAAMW,EAAM,IAAIC,EAAAL,QAChBI,EAAIE,aAAaC,EAAAC,oBAAqB,IAAIC,EAAAT,QAAQ,IAAK,KACvD,IAAMU,EAASC,EAAAC,0BACFR,EAAIE,aAAaO,EAAAb,QAASU,GAClCI,uBAAuB,IAAIC,EAAAf,QAA2BU,IAC3DN,EAAIE,aAAaU,EAAAhB,QAAaU,GAC9BZ,EAAMmB,SAASb,GAEfX,EAAKyB,iBAAiB,aAAa,SAAAC,GACjC,IAAMC,EAAID,EAAEE,QAAUvB,EAAMwB,OAAOC,WAC7BC,EAAIL,EAAEM,QAAU3B,EAAMwB,OAAOI,UACnCtB,EAAIuB,aAAapB,EAAAC,qBAAqBoB,UAAU,IAAInB,EAAAT,QAAQoB,EAAI,GAAII,OAGtE1B,EAAM+B","sources":["src/pals/pals-main.ts"],"sourcesContent":["import Scene from '../lib/scene/Scene';\nimport { assert } from '../lib/assert';\nimport Vector2 from '../lib/geom/Vector2';\nimport Entity from '../lib/scene/Entity';\nimport { PalTargetController } from './PalController';\nimport PalGeom from './PalGeom';\nimport PalRenderer from './PalRenderer';\nimport PalWalkAnimationController from './PalWalkAnimationController';\nimport { generateRandomPalConfig } from './PalConfig';\n\nconst root = document.getElementById('root');\nassert(root);\n\nconst scene = new Scene(800, 600, window.devicePixelRatio);\nscene.appendTo(root);\n\n// const pal = new Pal(100, 50);\nconst pal = new Entity();\npal.addComponent(PalTargetController, new Vector2(100, 50));\nconst config = generateRandomPalConfig();\nconst geom = pal.addComponent(PalGeom, config);\ngeom.setAnimationController(new PalWalkAnimationController(config));\npal.addComponent(PalRenderer, config);\nscene.addChild(pal);\n\nroot.addEventListener('mousemove', e => {\n  const x = e.clientX - scene.canvas.offsetLeft;\n  const y = e.clientY - scene.canvas.offsetTop;\n  pal.getComponent(PalTargetController).setTarget(new Vector2(x - 50, y));\n});\n\nscene.start();\n\n// const scenario5 = () => {\n//   const pal = new Pal(100, 50);\n//   scene.addChild(pal);\n\n//   const root = document.getElementById('root');\n//   invariant(root, '#root must be present');\n\n//   root.addEventListener('mousemove', e => {\n//     pal.setTarget(e.offsetX / scene.scaleFactor, e.offsetY / scene.scaleFactor);\n//   });\n// };\n\n// const go = () => {\n//   if (window.scene) return;\n//   scene = new Scene(800, 600, window.devicePixelRatio);\n//   window.scene = scene;\n//   const root = document.getElementById('root');\n//   invariant(root, '#root must be present');\n//   scene.appendTo(root);\n\n//   scene.addSystem(new DebugOverlay());\n//   scene.addSystem(new TravellerFinder());\n\n//   scenario3();\n\n//   scene.start();\n// };\n"],"names":["$7705bc7cec6463d6$var$root","document","getElementById","$8OvEy","assert","$7705bc7cec6463d6$var$scene","$dLeLC","default","window","devicePixelRatio","appendTo","$7705bc7cec6463d6$var$pal","$bADSp","addComponent","$1js6q","PalTargetController","$39Hjj","$7705bc7cec6463d6$var$config","$cvm1i","generateRandomPalConfig","$7oj37","setAnimationController","$leuCG","$hdQD0","addChild","addEventListener","e","x","clientX","canvas","offsetLeft","y","clientY","offsetTop","getComponent","setTarget","start"],"version":3,"file":"index.add42307.js.map"}