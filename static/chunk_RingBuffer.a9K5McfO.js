import{t as e}from"./chunk_utils.ferkvykK.js";class n{constructor(t=32){this.start=0,this.end=0,this.buffer=e(Math.max(t,1),()=>null)}resize(t){const s=this.length;this.buffer=e(t,i=>i<s?this.get(i):null),this.start=0,this.end=s}growForInsertIfNeeded(){this.length>=this.capacity-1&&this.resize(this.capacity*2)}get length(){return this.start<=this.end?this.end-this.start:this.end+this.buffer.length-this.start}get capacity(){return this.buffer.length}get(t){return this.buffer[(this.start+t)%this.capacity]}push(t){this.growForInsertIfNeeded(),this.buffer[this.end]=t,this.end=(this.end+1)%this.capacity}pop(){if(this.end===this.start)return null;this.end===0?this.end=this.capacity-1:this.end=this.end-1;const t=this.buffer[this.end];return this.buffer[this.end]=null,t}unshift(t){this.growForInsertIfNeeded(),this.start===0?this.start=this.capacity-1:this.start=this.start-1,this.buffer[this.start]=t}shift(){if(this.end===this.start)return null;const t=this.buffer[this.start];return this.buffer[this.start]=null,this.start=(this.start+1)%this.capacity,t}first(){return this.get(0)}last(){return this.get(this.length-1)}}export{n as R};
