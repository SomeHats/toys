var F=(r,e,l)=>{if(!e.has(r))throw TypeError("Cannot "+l)};var C=(r,e,l)=>(F(r,e,"read from private field"),l?l.call(r):e.get(r)),O=(r,e,l)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,l)},k=(r,e,l,d)=>(F(r,e,"write to private field"),d?d.call(r,l):e.set(r,l),l);import{j as W}from"./chunk_client.3vOul-ua.js";import{E as X}from"./chunk_EventEmitter.RDaT1QTq.js";import{r as G}from"./chunk_signia._kyOjg0K.js";import{f as Y}from"./chunk_utils.ferkvykK.js";import{r as S}from"./chunk_index.V9mWGg2B.js";const v=[];for(let r=0;r<256;r++)v[r]=(r<16?"0":"")+r.toString(16);const Z=Math.PI/180;function $(){const r=Math.random()*4294967295|0,e=Math.random()*4294967295|0,l=Math.random()*4294967295|0,d=Math.random()*4294967295|0;return(v[r&255]+v[r>>8&255]+v[r>>16&255]+v[r>>24&255]+"-"+v[e&255]+v[e>>8&255]+"-"+v[e>>16&15|64]+v[e>>24&255]+"-"+v[l&63|128]+v[l>>8&255]+"-"+v[l>>16&255]+v[l>>24&255]+v[d&255]+v[d>>8&255]+v[d>>16&255]+v[d>>24&255]).toUpperCase()}function ut(r){return r*Z}var H,L,q;function tt(){function r(f,i){return function(c){(function(h,t){if(h.v)throw new Error("attempted to call "+t+" after decoration was finished")})(i,"addInitializer"),d(c,"An initializer"),f.push(c)}}function e(f,i){if(!f(i))throw new TypeError("Attempted to access private element on non-instance")}function l(f,i,c,h,t,x,p,M,b){var o;switch(t){case 1:o="accessor";break;case 2:o="method";break;case 3:o="getter";break;case 4:o="setter";break;default:o="field"}var s,n,g={kind:o,name:p?"#"+i:i,static:x,private:p},a={v:!1};if(t!==0&&(g.addInitializer=r(h,a)),p||t!==0&&t!==2)if(t===2)s=function(u){return e(b,u),c.value};else{var m=t===0||t===1;(m||t===3)&&(s=p?function(u){return e(b,u),c.get.call(u)}:function(u){return c.get.call(u)}),(m||t===4)&&(n=p?function(u,w){e(b,u),c.set.call(u,w)}:function(u,w){c.set.call(u,w)})}else s=function(u){return u[i]},t===0&&(n=function(u,w){u[i]=w});var y=p?b.bind():function(u){return i in u};g.access=s&&n?{get:s,set:n,has:y}:s?{get:s,has:y}:{set:n,has:y};try{return f(M,g)}finally{a.v=!0}}function d(f,i){if(typeof f!="function")throw new TypeError(i+" must be a function")}function A(f,i){var c=typeof i;if(f===1){if(c!=="object"||i===null)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0");i.get!==void 0&&d(i.get,"accessor.get"),i.set!==void 0&&d(i.set,"accessor.set"),i.init!==void 0&&d(i.init,"accessor.init")}else if(c!=="function"){var h;throw h=f===0?"field":f===10?"class":"method",new TypeError(h+" decorators must return a function or void 0")}}function K(f){return function(i){f(this,i)}}function N(f,i,c,h,t,x,p,M,b){var o,s,n,g,a,m,y,u=c[0];if(p?o=t===0||t===1?{get:(g=c[3],function(){return g(this)}),set:K(c[4])}:t===3?{get:c[3]}:t===4?{set:c[3]}:{value:c[3]}:t!==0&&(o=Object.getOwnPropertyDescriptor(i,h)),t===1?n={get:o.get,set:o.set}:t===2?n=o.value:t===3?n=o.get:t===4&&(n=o.set),typeof u=="function")(a=l(u,h,o,M,t,x,p,n,b))!==void 0&&(A(t,a),t===0?s=a:t===1?(s=a.init,m=a.get||n.get,y=a.set||n.set,n={get:m,set:y}):n=a);else for(var w=u.length-1;w>=0;w--){var _;(a=l(u[w],h,o,M,t,x,p,n,b))!==void 0&&(A(t,a),t===0?_=a:t===1?(_=a.init,m=a.get||n.get,y=a.set||n.set,n={get:m,set:y}):n=a,_!==void 0&&(s===void 0?s=_:typeof s=="function"?s=[s,_]:s.push(_)))}if(t===0||t===1){if(s===void 0)s=function(I,E){return E};else if(typeof s!="function"){var T=s;s=function(I,E){for(var z=E,R=0;R<T.length;R++)z=T[R].call(I,z);return z}}else{var P=s;s=function(I,E){return P.call(I,E)}}f.push(s)}t!==0&&(t===1?(o.get=n.get,o.set=n.set):t===2?o.value=n:t===3?o.get=n:t===4&&(o.set=n),p?t===1?(f.push(function(I,E){return n.get.call(I,E)}),f.push(function(I,E){return n.set.call(I,E)})):t===2?f.push(n):f.push(function(I,E){return n.call(I,E)}):Object.defineProperty(i,h,o))}function Q(f,i,c){for(var h,t,x,p=[],M=new Map,b=new Map,o=0;o<i.length;o++){var s=i[o];if(Array.isArray(s)){var n,g,a=s[1],m=s[2],y=s.length>3,u=a>=5,w=c;if(u?(n=f,(a-=5)!==0&&(g=t=t||[]),y&&!x&&(x=function(P){return et(P)===f}),w=x):(n=f.prototype,a!==0&&(g=h=h||[])),a!==0&&!y){var _=u?b:M,T=_.get(m)||0;if(T===!0||T===3&&a!==4||T===4&&a!==3)throw new Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+m);!T&&a>2?_.set(m,a):_.set(m,!0)}N(p,n,s,m,a,u,y,g,w)}}return B(p,h),B(p,t),p}function B(f,i){i&&f.push(function(c){for(var h=0;h<i.length;h++)i[h].call(c);return c})}return function(f,i,c,h){return{e:Q(f,i,h),get c(){return function(t,x){if(x.length>0){for(var p=[],M=t,b=t.name,o=x.length-1;o>=0;o--){var s={v:!1};try{var n=x[o](M,{kind:"class",name:b,addInitializer:r(p,s)})}finally{s.v=!0}n!==void 0&&(A(10,n),M=n)}return[M,function(){for(var g=0;g<p.length;g++)p[g].call(M)}]}}(f,c)}}}}function J(r,e,l,d){return(J=tt())(r,e,l,d)}function et(r){if(Object(r)!==r)throw TypeError("right-hand side of 'in' should be an object, got "+(r!==null?typeof r:"null"));return r}var j,D;const V=class V{constructor(){O(this,j,void 0);O(this,D,void 0);this.id=$(),this.event=new X,k(this,j,(q(this),H(this,0))),k(this,D,L(this,1e3/60)),this._stop=null}get elapsedMs(){return C(this,j)}set elapsedMs(e){k(this,j,e)}get deltaMs(){return C(this,D)}set deltaMs(e){k(this,D,e)}start(){if(this._stop)return this;let e=null;return this._stop=Y(l=>{if(e!==null){const d=l-e;this.elapsedMs+=d,this.deltaMs=d,this.event.emit(this)}e=l}),this}stop(){var e;return(e=this._stop)==null||e.call(this),this._stop=null,this}listen(e){return this.event.listen(e)}};j=new WeakMap,D=new WeakMap,[H,L,q]=J(V,[[G,1,"elapsedMs"],[G,1,"deltaMs"]],[]).e;let U=V;const rt=S.createContext(null);function ct({children:r}){const[e]=S.useState(()=>new U);return S.useEffect(()=>(e.start(),()=>{e.stop()}),[e]),W.jsx(rt.Provider,{value:e,children:r})}export{U as T,ct as a,ut as d};
