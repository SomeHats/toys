function t(t,e,n,i){Object.defineProperty(t,e,{get:n,set:i,enumerable:!0,configurable:!0})}function e(t){return t&&t.__esModule?t.default:t}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},r={},o=n.parcelRequire0561;null==o&&((o=function(t){if(t in i)return i[t].exports;if(t in r){var e=r[t];delete r[t];var n={id:t,exports:{}};return i[t]=n,e.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){r[t]=e},n.parcelRequire0561=o),o.register("19ECN",(function(e,n){t(e.exports,"PalControlData",(function(){return a})),t(e.exports,"PalTargetController",(function(){return u})),t(e.exports,"PalAbsoluteController",(function(){return c}));var i=o("7ic2V"),r=o("96RKe"),s=o("6i1fg");class a extends i.default{getVelocity(){return this.getHeadingVec().scale(this.speed)}getHeadingVec(){return s.default.fromPolar(this.heading,1)}constructor(t,e){super(t),this.speed=0,this.heading=0,this.headingVelocity=0,this.position=e}}class u extends i.default{setTarget(t){this.target=t}update(t){const e=t/1e3,n=this.data.position.angleTo(this.target),i=this.target.distanceTo(this.data.position);if(i>15?this.accelerate(200,e):this.accelerate(-200,e),i>10){const t=r.normalizeAngle(n-this.data.heading),i=this.data.heading;this.data.heading+=t/10,this.data.headingVelocity=r.normalizeAngle(this.data.heading-i)/e}else this.data.headingVelocity=0}accelerate(t,e){const n=this.data.speed;this.data.speed=r.constrain(0,80,this.data.speed+t*e);const i=(n+this.data.speed)/2;this.data.position=this.data.position.add(s.default.fromPolar(this.data.heading,i*e))}constructor(t,e){super(t),this.target=e,this.data=t.addComponent(a,e)}}class c extends i.default{setPosition(t,e,n){const i=this.data.position,o=this.data.heading;this.data.heading=e,this.data.headingVelocity=r.normalizeAngle(this.data.heading-o)/n,this.data.speed=i.distanceTo(t)/n,this.data.position=t}constructor(t,e){super(t),this.data=t.addComponent(a,e)}}})),o.register("7ic2V",(function(e,n){t(e.exports,"default",(function(){return i}));class i{onRemove(){}onAddedToScene(t){}onRemovedFromScene(t){}beforeUpdate(t){}update(t){}afterUpdate(t){}beforeDraw(t,e){}draw(t,e){}afterDraw(t,e){}getScene(){return this.entity.getScene()}constructor(t){this.entity=t}}})),o.register("96RKe",(function(e,n){function i(t,e){const n=[];for(let i=0;i<t;i++)n.push(e(i));return n}function r(t,e,n){return(e-t)*n+t}function o(t,e,n){return(n-t)/(e-t)}function s(t,e,n){return Math.min(e,Math.max(t,n))}function a(t,e,n,i,s){return r(n,i,o(t,e,s))}function u(t,e){return"number"==typeof e?r(t,e,Math.random()):r(0,t,Math.random())}function c(t,e){return Math.floor(u(t,e))}function h(t,e){return u(t-e,t+e)}function l(t,e){return h(t,t*e)}function g(t){return t[Math.floor(u(t.length))]}function f(t){return t.reduce(((t,e)=>t.concat(e)),[])}function d(t){return Array.from(new Set(t))}function p(t,e){const n=new Set(t),i=new Set;for(const t of e)n.has(t)&&i.add(t);return Array.from(i)}function m(t,e){const n=new Map;for(const i of t){const t=e(i),r=n.get(t);r?r.push(i):n.set(t,[i])}return n}function x(t,e){return t.slice().sort(((t,n)=>e(t)<e(n)?-1:1))}function y(t,e){const n=[],i=[];for(const r of t)e(r)?n.push(r):i.push(r);return[n,i]}function v(t,e){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}function w(){return new Promise((t=>{window.requestAnimationFrame((e=>t(e)))}))}async function P(t){let e=!1;const n=()=>{e=!0};for(;;)if(t(await w(),n),e)return}function A(t){const e={};for(const[n,i]of t)e[n]=i;return e}function R(t){return Object.keys(t)}function b(t){return Object.entries(t)}function M(t){return t.filter((t=>null!=t))}function S(t){return function(t,e,n){const i=e-t;for(n-=t;n<0;)n+=i;return t+n%i}(-Math.PI,Math.PI,t)}function O(t,e,n){return Math.max(Math.min(t,e),Math.min(Math.max(t,e),n))}function L(t){const e=t.slice();for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}function F(t=""){return`${t}${Math.random().toString(36).slice(1)}`}function D(t,e=null){try{const n=window.localStorage.getItem(t);return n?JSON.parse(n):e}catch(t){return console.log(t),e}}function T(t,e){const n=JSON.stringify(e);try{window.localStorage.setItem(t,n)}catch(t){console.log(t)}}function Y(t,e){let n;return(...i)=>{void 0!==n&&clearTimeout(n),n=setTimeout((()=>e(...i)),t)}}function C(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function X(t,e){if(C(t,e))return t[e]}function k(t,e,n){return Math.abs(t-e)<n}function E(t,e){return new Promise(((n,i)=>{t(n),e(i)}))}t(e.exports,"times",(function(){return i})),t(e.exports,"lerp",(function(){return r})),t(e.exports,"invLerp",(function(){return o})),t(e.exports,"constrain",(function(){return s})),t(e.exports,"mapRange",(function(){return a})),t(e.exports,"random",(function(){return u})),t(e.exports,"randomInt",(function(){return c})),t(e.exports,"varyAbsolute",(function(){return h})),t(e.exports,"varyRelative",(function(){return l})),t(e.exports,"sample",(function(){return g})),t(e.exports,"flatten",(function(){return f})),t(e.exports,"uniq",(function(){return d})),t(e.exports,"intersection",(function(){return p})),t(e.exports,"groupBy",(function(){return m})),t(e.exports,"sortBy",(function(){return x})),t(e.exports,"partition",(function(){return y})),t(e.exports,"removeFromArray",(function(){return v})),t(e.exports,"frame",(function(){return w})),t(e.exports,"frameLoop",(function(){return P})),t(e.exports,"fromEntries",(function(){return A})),t(e.exports,"keys",(function(){return R})),t(e.exports,"entries",(function(){return b})),t(e.exports,"compact",(function(){return M})),t(e.exports,"normalizeAngle",(function(){return S})),t(e.exports,"clamp",(function(){return O})),t(e.exports,"shuffle",(function(){return L})),t(e.exports,"getId",(function(){return F})),t(e.exports,"getLocalStorageItem",(function(){return D})),t(e.exports,"setLocalStorageItem",(function(){return T})),t(e.exports,"debounce",(function(){return Y})),t(e.exports,"has",(function(){return C})),t(e.exports,"get",(function(){return X})),t(e.exports,"approxEq",(function(){return k})),t(e.exports,"promiseFromEvents",(function(){return E}))})),o.register("6i1fg",(function(e,n){t(e.exports,"default",(function(){return r}));var i=o("96RKe");class r{static fromPolar(t,e){return new r(e*Math.cos(t),e*Math.sin(t))}static average(t){return t.reduce(((t,e)=>t.add(e)),r.ZERO).div(t.length)}static fromVectorLike({x:t,y:e}){return new r(t,e)}toString(){return`Vector2(${this.x}, ${this.y})`}get magnitudeSquared(){return this.x*this.x+this.y*this.y}get magnitude(){return Math.sqrt(this.magnitudeSquared)}get angle(){return Math.atan2(this.y,this.x)}isInPolygon(t){const{x:e,y:n}=this;let i=!1;for(let r=0,o=t.length-1;r<t.length;o=r++){const{x:s,y:a}=t[r],{x:u,y:c}=t[o];a>n!=c>n&&e<(u-s)*(n-a)/(c-a)+s&&(i=!i)}return i}equals(t){return this===t||this.x===t.x&&this.y===t.y}distanceTo({x:t,y:e}){const n=t-this.x,i=e-this.y;return Math.sqrt(n*n+i*i)}angleTo(t){return t.sub(this).angle}angleBetween(t){return i.normalizeAngle(Math.atan2(t.y,t.x)-Math.atan2(this.y,this.x))}dot(t){return this.x*t.x+this.y*t.y}div(t){return new r(this.x/t,this.y/t)}scale(t){return new r(this.x*t,this.y*t)}negate(){return this.scale(-1)}add({x:t,y:e}){return new r(this.x+t,this.y+e)}sub({x:t,y:e}){return new r(this.x-t,this.y-e)}floor(){return new r(Math.floor(this.x),Math.floor(this.y))}ceil(){return new r(Math.ceil(this.x),Math.ceil(this.y))}round(){return new r(Math.round(this.x),Math.round(this.y))}withMagnitude(t){return r.fromPolar(this.angle,t)}normalize(){return this.withMagnitude(1)}withAngle(t){return r.fromPolar(t,this.magnitude)}rotate(t){return this.withAngle(this.angle+t)}lerp(t,e){return new r(i.lerp(this.x,t.x,e),i.lerp(this.y,t.y,e))}constructor(t,e){this.x=t,this.y=e}}r.ZERO=new r(0,0)})),o.register("2dNNZ",(function(e,n){t(e.exports,"default",(function(){return l}));var i=o("7ic2V"),r=o("4TER2"),s=o("19ECN"),a=o("96RKe"),u=o("hPLAZ"),c=o("87DYR");const h=Math.PI/2;class l extends i.default{setAnimationController(t){this.animationController=t}update(t){if(this.animationController){const e=this.animationController.update(t,this.controlData,this.legs);this.bobAmount=e.bobAmount,c.assert(e.legs.length===this.legs.length),this.legs.forEach(((t,n)=>t.update(e.legs[n])))}}getBod(){const t=this.config.bodBob*this.bobAmount;return new r.default(this.controlData.position.x,this.controlData.position.y-this.config.bodHeight-t,this.config.radius)}constructor(t,e){super(t),this.config=e,this.animationController=null,this.bobAmount=0,this.controlData=t.getComponent(s.PalControlData),this.legs=a.shuffle(a.flatten(a.times(e.legPairs,(t=>{const n=(t+1)/(e.legPairs+1);return[new u.default(this.controlData,this,e,a.lerp(h-1,h+1,n)),new u.default(this.controlData,this,e,a.lerp(1-h,-h-1,n))]}))))}}})),o.register("4TER2",(function(e,n){t(e.exports,"default",(function(){return s}));var i=o("6i1fg"),r=o("9x7hn");class s{get circumference(){return 2*Math.PI*this.radius}getBoundingBox(){return new r.default(new i.default(this.center.x,this.center.y),new i.default(2*this.radius,2*this.radius))}pointOnCircumference(t){return new i.default(this.center.x+Math.cos(t)*this.radius,this.center.y+Math.sin(t)*this.radius)}containsPoint(t){return t.distanceTo(this.center)<this.radius}intersectsCircle(t){return this.center.distanceTo(t.center)<this.radius+t.radius}withRadius(t){return new s(this.center.x,this.center.y,t)}constructor(t,e,n){this.center=new i.default(t,e),this.radius=n,Object.freeze(this)}}})),o.register("9x7hn",(function(e,n){t(e.exports,"default",(function(){return r}));var i=o("6i1fg");class r{static fromLeftTopRightBottom(t,e,n,o){return new r(new i.default(t,e),new i.default(n-t,o-e))}contains({x:t,y:e}){return this.left<=t&&t<=this.right&&this.top<=e&&e<=this.bottom}intersects(t){return!(this.right<t.left||this.left>t.right||this.bottom<t.top||this.top>t.bottom)}getCenter(){return this.origin.add(this.size.scale(.5))}get left(){return this.origin.x}get right(){return this.origin.x+this.size.x}get top(){return this.origin.y}get bottom(){return this.origin.y+this.size.y}get width(){return this.size.x}get height(){return this.size.y}constructor(t,e){this.origin=t,this.size=e,Object.freeze(this)}}})),o.register("hPLAZ",(function(e,n){t(e.exports,"default",(function(){return a}));var i=o("6i1fg"),r=o("96RKe");const s=({radius:t,hipHeight:e,legWidth:n})=>Math.sqrt(t*t-(t-e)*(t-e))-n;class a{update(t){this.footXY=t.footXY,this.footOrigin=t.footProjectionOrigin,this.liftAmount=t.liftAmount}getIdealFootRestingXY(){return i.default.fromPolar(this.palData.heading+this.angleOffset,this.floorRadius).add(this.palData.position)}getFootXY(){return this.footXY}getFootZ(){return r.lerp(0,this.getHipZ()*this.config.legMaxLift,this.liftAmount)}getFootOrigin(){return this.footOrigin}getKneeXY(){return this.palData.position.add(i.default.fromPolar(this.palData.heading+this.angleOffset,this.kneeRadius)).add(i.default.fromPolar(this.palData.heading,this.liftAmount*this.config.kneeMaxOut))}getKneeZ(){return(this.getFootZ()+this.getHipZ())/2}getKneeOrigin(){return this.getHipOrigin().lerp(this.getFootOrigin(),.5)}getHipXY(){return this.palData.position.add(i.default.fromPolar(this.palData.heading+this.angleOffset,this.hipRadius))}getHipZ(){const t=this.palGeom.getBod();return this.palData.position.y-t.center.y-(t.radius-this.config.hipHeight)}getHipOrigin(){return this.palData.position}constructor(t,e,n,i){this.palData=t,this.palGeom=e,this.config=n,this.angleOffset=i,this.liftAmount=0,this.hipRadius=s(n),this.kneeRadius=s(n)*n.kneeScale,this.floorRadius=s(n),this.footXY=this.getIdealFootRestingXY(),this.footOrigin=this.getIdealFootRestingXY()}}})),o.register("87DYR",(function(e,n){function i(t){throw new Error(t)}function r(t,e){t||i(e||"Assertion Error")}t(e.exports,"fail",(function(){return i})),t(e.exports,"assert",(function(){return r}))})),o.register("exw1r",(function(e,n){t(e.exports,"default",(function(){return l}));var i=o("7ic2V"),r=o("19ECN"),s=o("2dNNZ"),a=o("yW6N3"),u=o("96RKe"),c=o("6i1fg");const h=Math.PI/2;class l extends i.default{draw(t){const e=u.normalizeAngle(this.data.heading);t.setLineDash([]),t.beginPath();const n=this.geom.getBod();t.ellipse(this.data.position.x,this.data.position.y,.8*n.radius,.24*n.radius,0,0,2*Math.PI),t.fillStyle="rgba(0, 0, 0, 0.2)",t.fill(),this.geom.legs.filter((t=>u.normalizeAngle(t.angleOffset+e)<0)).forEach((e=>this.drawLeg(t,e))),this.geom.legs.filter((t=>u.normalizeAngle(t.angleOffset+e)>=0)).forEach((e=>this.drawLeg(t,e))),this.drawBod(t,n)}drawLeg(t,e){t.beginPath();const n=this.data.heading+e.angleOffset,i=u.constrain(0,1,Math.abs(u.normalizeAngle(-h-n)/h)),r=this.config.color.darken(.2*(1-i*i)),o=this.projectZ(e.getHipXY(),e.getHipZ(),e.getHipOrigin()),s=this.projectZ(e.getKneeXY(),e.getKneeZ(),e.getKneeOrigin()),a=this.projectZ(e.getFootXY(),e.getFootZ(),e.getFootOrigin());t.moveTo(o.x,o.y),t.quadraticCurveTo(s.x,s.y,a.x,a.y),t.lineCap="round",t.strokeStyle=r.toString(),t.lineWidth=this.config.legWidth,t.stroke()}drawBod(t,e){t.save(),t.beginPath(),a.circle(t,e.center.x,e.center.y,this.config.radius),t.fillStyle=this.config.color.toString(),t.fill(),t.clip();const n=u.normalizeAngle(h-this.data.heading)/h*this.config.radius;t.beginPath(),a.circle(t,n+e.center.x+this.config.eyeX,e.center.y-this.config.eyeY,this.config.eyeRadius),a.circle(t,n+e.center.x-this.config.eyeX,e.center.y-this.config.eyeY,this.config.eyeRadius),t.fillStyle=this.config.color.darken(.5).toString(),t.fill(),t.beginPath(),t.moveTo(n+e.center.x-this.config.mouthWidth,e.center.y-this.config.mouthY),t.quadraticCurveTo(n+e.center.x,e.center.y-this.config.mouthY+this.config.mouthSmile,n+e.center.x+this.config.mouthWidth,e.center.y-this.config.mouthY),t.lineWidth=this.config.mouthThickness,t.strokeStyle=this.config.color.darken(.5).toString(),t.stroke(),t.beginPath(),this.makeButtLine(t,e,n+2*this.config.radius),this.makeButtLine(t,e,n-2*this.config.radius),t.lineWidth=this.config.buttThickness,t.strokeStyle=this.config.color.darken(.3).toString(),t.stroke(),t.restore()}makeButtLine(t,e,n){t.moveTo(1.6*n+e.center.x,e.center.y+this.config.buttTop),t.quadraticCurveTo(1.7*n+e.center.x,e.center.y+.65*(this.config.buttTop+this.config.buttBottom),n+e.center.x,e.center.y+this.config.buttBottom)}projectZ(t,e,n){return new c.default(t.x,n.y-e+.3*(t.y-n.y))}constructor(t,e){super(t),this.config=e,this.data=t.getComponent(r.PalControlData),this.geom=t.getComponent(s.default)}}})),o.register("yW6N3",(function(e,n){t(e.exports,"circle",(function(){return s})),t(e.exports,"path",(function(){return a}));var i=o("b2Aev"),r=o("hKbPz");function s(t,e,n,i){t.arc(e,n,i,0,2*Math.PI,!1)}function a(t,e){e.segments.length&&t.moveTo(e.segments[0].getStart().x,e.segments[0].getStart().y);for(const n of e.segments)if(n instanceof i.default)t.lineTo(n.getEnd().x,n.getEnd().y);else{if(!(n instanceof r.default))throw new Error(`Unknown path segment type: ${n.toString()}`);t.arc(n.circle.center.x,n.circle.center.y,n.circle.radius,n.startAngle,n.endAngle,n.isAnticlockwise)}}})),o.register("b2Aev",(function(e,n){t(e.exports,"default",(function(){return s}));var i=o("96RKe"),r=o("6Cnop");class s{getStart(){return this.line.start}getEnd(){return this.line.end}getDelta(){return this.delta}getLength(){return this.delta.magnitude}get angle(){return this.delta.angle}getPointAtPosition(t){const e=i.constrain(0,this.getLength(),t);return this.delta.withMagnitude(e).add(this.line.start)}getAngleAtPosition(){return this.delta.angle}constructor(t,e){this.line=new r.default(t,e),this.delta=this.line.getDelta(),Object.freeze(this)}}})),o.register("6Cnop",(function(e,n){t(e.exports,"default",(function(){return a}));var i=o("87DYR"),r=o("6i1fg");const s=t=>t===1/0||t===-1/0;class a{static fromSlopeAndDisplacement(t,e){i.assert(!s(t),"cannot create vertical line from displacement");const n=new r.default(0,e),o=new r.default(1,t+e);return new a(n,o)}static fromSlopeAndPoint(t,e){if(s(t))return new a(e,new r.default(e.x,e.y+1));const n=e.y-e.x*t;return a.fromSlopeAndDisplacement(t,n)}getDelta(){return this.end.sub(this.start)}get slope(){return(this.end.y-this.start.y)/(this.end.x-this.start.x)}get displacement(){return this.start.y-this.start.x*this.slope}get isVertical(){return s(this.slope)}get verticalX(){return i.assert(this.isVertical,"verticalX is not defined on non vertical lines"),this.start.x}get perpendicularSlope(){return this.isVertical?0:-1/this.slope}isParallelTo(t){return this.isVertical&&t.isVertical||this.slope===t.slope}perpendicularLineThroughPoint(t){return a.fromSlopeAndPoint(this.perpendicularSlope,t)}pointAtIntersectionWith(t){let e;i.assert(!this.isParallelTo(t),"parallel lines do not intersect"),e=this.isVertical?this.verticalX:t.isVertical?t.verticalX:(this.displacement-t.displacement)/(t.slope-this.slope);const n=this.isVertical?t.slope*e+t.displacement:this.slope*e+this.displacement;return new r.default(e,n)}constructor(t,e){this.start=t,this.end=e}}})),o.register("hKbPz",(function(e,n){t(e.exports,"default",(function(){return s}));var i=o("96RKe"),r=o("4TER2");class s{getStart(){return this.circle.pointOnCircumference(this.startAngle)}getEnd(){return this.circle.pointOnCircumference(this.endAngle)}get angleDifference(){return Math.atan2(Math.sin(this.endAngle-this.startAngle),Math.cos(this.endAngle-this.startAngle))}getLength(){const t=Math.abs(this.angleDifference)/(2*Math.PI);return this.circle.circumference*t}get isAnticlockwise(){return this.angleDifference<0}getPointAtPosition(t){const e=i.mapRange(0,this.getLength(),this.startAngle,this.startAngle+this.angleDifference,i.constrain(0,this.getLength(),t));return this.circle.pointOnCircumference(e)}getAngleAtPosition(t){return this.isAnticlockwise?i.mapRange(0,this.getLength(),this.startAngle,this.startAngle+this.angleDifference,i.constrain(0,this.getLength(),t))-Math.PI/2:i.mapRange(0,this.getLength(),this.startAngle,this.startAngle+this.angleDifference,i.constrain(0,this.getLength(),t))+Math.PI/2}constructor(t,e,n,i){this.circle=new r.default(t.x,t.y,e),this.startAngle=n,this.endAngle=i,Object.freeze(this)}}})),o.register("k9rmw",(function(e,n){t(e.exports,"default",(function(){return u}));var i=o("6i1fg"),r=o("96RKe"),s=o("87DYR");function a({stepProgress:t}){return t>0}class u{update(t,e,n){const i=t/1e3;for(const t of n)this.updateLegState(i,e,n,t);const r=n.map((t=>this.getLegUpdate(e,t)));return{bobAmount:r.reduce(((t,e)=>t+e.liftAmount),0)/n.length,legs:r}}canLiftLeg(t,e,n){s.assert(e.includes(n),"whos leg even is this");const i=e.filter((e=>e!==n&&!a(this.getLegState(t,n)))).length>Math.floor(Math.log(e.length)),r=e.some((n=>{const i=this.getLegState(t,n);return i.stepProgress>0&&i.stepProgress<1/(e.length/2)}));return i&&!r}updateLegState(t,e,n,i){const o=this.getLegState(e,i);if(o.restTimer=r.constrain(0,this.config.stepRestDuration,o.restTimer-t),!function({restTimer:t}){return t>0}(o))if(a(o))o.stepProgress=r.constrain(0,1,o.stepProgress+t/this.config.stepDuration),1===o.stepProgress&&(o.lastFootOnFloorXY=this.getFootXY(e,i,o),o.lastFootOnFloorPalPosition=e.position,o.stepProgress=0,o.restTimer=this.config.stepDuration);else{const s=i.getFootXY().distanceTo(i.getIdealFootRestingXY());s>this.config.stepThreshold&&this.canLiftLeg(e,n,i)&&(o.currentStepMaxLift=r.constrain(0,1,r.mapRange(this.config.stepThreshold,this.config.fullStepDistance,.1,1,s)),o.stepProgress=r.constrain(0,1,o.stepProgress+t/this.config.stepDuration))}}getInitialLegState(t,e){return{lastFootOnFloorXY:e.getIdealFootRestingXY(),lastFootOnFloorPalPosition:t.position,stepProgress:0,restTimer:0,currentStepMaxLift:1}}getLegState(t,e){const n=this.legStates.get(e);if(n)return n;const i=this.getInitialLegState(t,e);return this.legStates.set(e,i),i}getLegUpdate(t,e){const n=this.getLegState(t,e);return{footXY:this.getFootXY(t,e,n),footProjectionOrigin:this.getFootOrigin(t,e,n),liftAmount:this.getLegLiftAmount(n)}}getFootXY(t,e,n){if(a(n)){const i=n.lastFootOnFloorXY,r=this.getPredictedIdealFootXYAtEndOfOfStep(t,e,n);return i.lerp(r,n.stepProgress)}return n.lastFootOnFloorXY}getFootOrigin(t,e,n){return a(n)?n.lastFootOnFloorPalPosition.lerp(t.position,n.stepProgress):n.lastFootOnFloorPalPosition}getPredictedIdealFootXYAtEndOfOfStep(t,e,n){const r=(1.4-n.stepProgress)*this.config.stepDuration,o=t.getVelocity().scale(r).add(t.position),s=t.heading+t.headingVelocity*r;return i.default.fromPolar(s+e.angleOffset,e.floorRadius).add(o)}getLegLiftAmount({stepProgress:t,currentStepMaxLift:e}){return Math.sin(t*Math.PI)*e}constructor(t){this.config=t,this.legStates=new Map}}})),o.register("h8N2y",(function(e,n){t(e.exports,"generateRandomPalConfig",(function(){return s}));var i=o("96RKe"),r=o("c9KGA");r.BLUE.lighten(.2);const s=()=>{const t=i.varyRelative(14,.2),e=i.varyRelative(.7*t,.3),n=i.varyRelative(2*t,.3),o=n-(t-e);return{radius:t,bodHeight:n,bodBob:i.varyRelative(t,.2),eyeY:i.varyRelative(.5*t,.2),eyeX:i.varyRelative(.4*t,.3),eyeRadius:i.varyRelative(.15*t,.4),mouthThickness:i.varyRelative(.15*t,.4),mouthY:i.varyAbsolute(0,.2*t),mouthWidth:i.varyRelative(.5*t,.3),mouthSmile:i.varyRelative(.3*t,.3),buttTop:i.varyRelative(.4*t,.2),buttBottom:i.varyRelative(.85*t,.15),buttThickness:i.varyRelative(.1*t,.5),color:r.BLUE.lighten(i.random(-.2,.2)).saturate(i.random(-.2,.2)).rotate(i.random(-10,10)),hipHeight:e,kneeScale:i.varyAbsolute(1.3,.3),legMaxLift:i.random(.2,.5),kneeMaxOut:i.varyRelative(.6*o,.4),stepDuration:i.varyRelative(.01*o,.4),stepRestDuration:i.varyRelative(.0083*o,.4),stepThreshold:i.varyRelative(.01*o,.4),fullStepDistance:i.varyRelative(.7*o,.4),legWidth:i.varyRelative(.3*t,.4),legPairs:i.randomInt(1,4)}}})),o.register("c9KGA",(function(n,i){t(n.exports,"BLUE",(function(){return s}));var r=o("0FWmF");new(e(r))("#F8FFE5"),new(e(r))("#06D6A0");const s=new(e(r))("#1B9AAA");new(e(r))("#EF476F"),new(e(r))("#FFC43D")}));
//# sourceMappingURL=index.fe45b746.js.map
