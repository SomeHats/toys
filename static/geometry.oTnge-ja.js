var Y=(a,t,r)=>{if(!t.has(a))throw TypeError("Cannot "+r)};var L=(a,t,r)=>(Y(a,t,"read from private field"),r?r.call(a):t.get(a)),$=(a,t,r)=>{if(t.has(a))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(a):t.set(a,r)},I=(a,t,r,l)=>(Y(a,t,"write to private field"),l?l.call(a,r):t.set(a,r),r);import{j as dt,g as ft,b as ht}from"./chunk_utils.qw3xpJ_t.js";/* empty css                       */import{j as f,c as pt}from"./chunk_client.49X8lzWC.js";import{S as lt}from"./chunk_svgPathBuilder.J8VGlY3q.js";import{C as tt}from"./chunk_Circle.ZKVYl1V4.js";import{V as A}from"./chunk_Vector2.7Ra9a_Y4.js";import{u as mt}from"./chunk_useGestureDetector.1NGZjGht.js";import{r as H}from"./chunk_signia.rTErdSNa.js";import{t as k}from"./chunk_theme.6peXtGe0.js";import{t as J}from"./chunk_track.rtZiweUj.js";import{r as P}from"./chunk_index.HRzIbU8d.js";import{i as gt}from"./chunk_easings.EgZmcXFh.js";import{D as vt}from"./chunk_guides.3xv8yMYA.js";import{a as xt,b as yt}from"./chunk_useResizeObserver.bT7jiE2V.js";import{B as wt}from"./chunk_Button._pyGva7k.js";import{c as bt}from"./chunk_index.f10NbkGF.js";import{a as jt}from"./chunk_Ticker.lTo-XsP5.js";import{c as kt,R as Tt}from"./chunk_index.YgXO-yX4.js";import"./chunk_AABB.VzaPYI_h.js";import"./chunk_Line2.QAM2pdhV.js";import"./chunk__commonjsHelpers.5-cIlDoe.js";import"./chunk_ResizeObserver.-NVrOerG.js";import"./chunk_useMergedRefs.nliS7m8d.js";import"./chunk_EventEmitter.__zN63g-.js";const ut={x(a,t=5){return new lt().moveTo(a.add(t,t)).lineTo(a.add(-t,-t)).moveTo(a.add(-t,t)).lineTo(a.add(t,-t)).toString()}};var et,rt,nt,it,ct,ot;function Et(){function a(u,o){return function(d){(function(c,e){if(c.v)throw new Error("attempted to call "+e+" after decoration was finished")})(o,"addInitializer"),l(d,"An initializer"),u.push(d)}}function t(u,o){if(!u(o))throw new TypeError("Attempted to access private element on non-instance")}function r(u,o,d,c,e,m,h,b,x){var n;switch(e){case 1:n="accessor";break;case 2:n="method";break;case 3:n="getter";break;case 4:n="setter";break;default:n="field"}var i,s,j={kind:n,name:h?"#"+o:o,static:m,private:h},g={v:!1};if(e!==0&&(j.addInitializer=a(c,g)),h||e!==0&&e!==2)if(e===2)i=function(v){return t(x,v),d.value};else{var T=e===0||e===1;(T||e===3)&&(i=h?function(v){return t(x,v),d.get.call(v)}:function(v){return d.get.call(v)}),(T||e===4)&&(s=h?function(v,C){t(x,v),d.set.call(v,C)}:function(v,C){d.set.call(v,C)})}else i=function(v){return v[o]},e===0&&(s=function(v,C){v[o]=C});var E=h?x.bind():function(v){return o in v};j.access=i&&s?{get:i,set:s,has:E}:i?{get:i,has:E}:{set:s,has:E};try{return u(b,j)}finally{g.v=!0}}function l(u,o){if(typeof u!="function")throw new TypeError(o+" must be a function")}function p(u,o){var d=typeof o;if(u===1){if(d!=="object"||o===null)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0");o.get!==void 0&&l(o.get,"accessor.get"),o.set!==void 0&&l(o.set,"accessor.set"),o.init!==void 0&&l(o.init,"accessor.init")}else if(d!=="function"){var c;throw c=u===0?"field":u===10?"class":"method",new TypeError(c+" decorators must return a function or void 0")}}function y(u){return function(o){u(this,o)}}function w(u,o,d,c,e,m,h,b,x){var n,i,s,j,g,T,E,v=d[0];if(h?n=e===0||e===1?{get:(j=d[3],function(){return j(this)}),set:y(d[4])}:e===3?{get:d[3]}:e===4?{set:d[3]}:{value:d[3]}:e!==0&&(n=Object.getOwnPropertyDescriptor(o,c)),e===1?s={get:n.get,set:n.set}:e===2?s=n.value:e===3?s=n.get:e===4&&(s=n.set),typeof v=="function")(g=r(v,c,n,b,e,m,h,s,x))!==void 0&&(p(e,g),e===0?i=g:e===1?(i=g.init,T=g.get||s.get,E=g.set||s.set,s={get:T,set:E}):s=g);else for(var C=v.length-1;C>=0;C--){var M;(g=r(v[C],c,n,b,e,m,h,s,x))!==void 0&&(p(e,g),e===0?M=g:e===1?(M=g.init,T=g.get||s.get,E=g.set||s.set,s={get:T,set:E}):s=g,M!==void 0&&(i===void 0?i=M:typeof i=="function"?i=[i,M]:i.push(M)))}if(e===0||e===1){if(i===void 0)i=function(R,D){return D};else if(typeof i!="function"){var O=i;i=function(R,D){for(var Q=D,U=0;U<O.length;U++)Q=O[U].call(R,Q);return Q}}else{var K=i;i=function(R,D){return K.call(R,D)}}u.push(i)}e!==0&&(e===1?(n.get=s.get,n.set=s.set):e===2?n.value=s:e===3?n.get=s:e===4&&(n.set=s),h?e===1?(u.push(function(R,D){return s.get.call(R,D)}),u.push(function(R,D){return s.set.call(R,D)})):e===2?u.push(s):u.push(function(R,D){return s.call(R,D)}):Object.defineProperty(o,c,n))}function S(u,o,d){for(var c,e,m,h=[],b=new Map,x=new Map,n=0;n<o.length;n++){var i=o[n];if(Array.isArray(i)){var s,j,g=i[1],T=i[2],E=i.length>3,v=g>=5,C=d;if(v?(s=u,(g-=5)!==0&&(j=e=e||[]),E&&!m&&(m=function(K){return Ct(K)===u}),C=m):(s=u.prototype,g!==0&&(j=c=c||[])),g!==0&&!E){var M=v?x:b,O=M.get(T)||0;if(O===!0||O===3&&g!==4||O===4&&g!==3)throw new Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+T);!O&&g>2?M.set(T,g):M.set(T,!0)}w(h,s,i,T,g,v,E,j,C)}}return B(h,c),B(h,e),h}function B(u,o){o&&u.push(function(d){for(var c=0;c<o.length;c++)o[c].call(d);return d})}return function(u,o,d,c){return{e:S(u,o,c),get c(){return function(e,m){if(m.length>0){for(var h=[],b=e,x=e.name,n=m.length-1;n>=0;n--){var i={v:!1};try{var s=m[n](b,{kind:"class",name:x,addInitializer:a(h,i)})}finally{i.v=!0}s!==void 0&&(p(10,s),b=s)}return[b,function(){for(var j=0;j<h.length;j++)h[j].call(b)}]}}(u,d)}}}}function X(a,t,r,l){return(X=Et())(a,t,r,l)}function Ct(a){if(Object(a)!==a)throw TypeError("right-hand side of 'in' should be an object, got "+(a!==null?typeof a:"null"));return a}const Z=10;var _,W;const V=class V{constructor({x:t=0,y:r=0,r:l=100,color:p=k.fuchsia500}={}){$(this,_,void 0);$(this,W,void 0);I(this,_,(nt(this),et(this))),I(this,W,rt(this)),this.gestures={onDragStart:y=>{const w=A.fromEvent(y);if(this.getDistanceToCenter(w)<this.getDistanceToEdge(w)){const u=w.sub(this.circle.center);return{couldBeTap:!1,pointerCapture:!0,onCancel:()=>{},onMove:o=>{this.circle=new tt(A.fromEvent(o).sub(u),this.circle.radius)},onEnd:()=>{}}}const S=w.sub(this.circle.center),B=S.withMagnitude(this.circle.radius).sub(S);return{couldBeTap:!1,pointerCapture:!0,onCancel:()=>{},onMove:u=>{this.circle=this.circle.withRadius(A.fromEvent(u).add(B).distanceTo(this.circle.center))},onEnd:()=>{}}}},this.circle=tt.create(t,r,l),this.color=p}get circle(){return L(this,_)}set circle(t){I(this,_,t)}get color(){return L(this,W)}set color(t){I(this,W,t)}getDistanceToEdge(t){return Math.abs(this.circle.center.distanceTo(t)-this.circle.radius)}getDistanceToCenter(t){return this.circle.center.distanceTo(t)}distanceTo(t){return Math.min(this.getDistanceToCenter(t),this.getDistanceToEdge(t))}render(t){return f.jsx(V.Component,{geo:this,...t})}};_=new WeakMap,W=new WeakMap,[et,rt,nt]=X(V,[[H,1,"circle"],[H,1,"color"]],[]).e,V.Component=J(function({geo:r,isHovered:l,cursor:p}){const y=r.getDistanceToCenter(p)<r.getDistanceToEdge(p);return f.jsxs(f.Fragment,{children:[l&&y&&f.jsx("circle",{cx:r.circle.center.x,cy:r.circle.center.y,r:Z,fill:k.sky400,opacity:.5}),l&&!y&&f.jsx("circle",{cx:r.circle.center.x,cy:r.circle.center.y,r:r.circle.radius,fill:"none",strokeWidth:Z,stroke:k.sky400,opacity:.5}),f.jsx("circle",{cx:r.circle.center.x,cy:r.circle.center.y,r:2,fill:r.color}),f.jsx("circle",{cx:r.circle.center.x,cy:r.circle.center.y,r:r.circle.radius,fill:"none",stroke:r.color,strokeWidth:3})]})});let z=V;var F,N;const q=class q{constructor({x:t=0,y:r=0,color:l=k.fuchsia500}={}){$(this,F,void 0);$(this,N,void 0);I(this,F,(ot(this),it(this))),I(this,N,ct(this)),this.gestures={onDragStart:p=>{const w=A.fromEvent(p).sub(this.point);return{couldBeTap:!1,pointerCapture:!0,onCancel:()=>{},onMove:S=>{this.point=A.fromEvent(S).sub(w)},onEnd:()=>{}}}},this.point=new A(t,r),this.color=l}get point(){return L(this,F)}set point(t){I(this,F,t)}get color(){return L(this,N)}set color(t){I(this,N,t)}distanceTo(t){return this.point.distanceTo(t)}render(t){return f.jsx(q.Component,{geo:this,...t})}};F=new WeakMap,N=new WeakMap,[it,ct,ot]=X(q,[[H,1,"point"],[H,1,"color"]],[]).e,q.Component=J(function({geo:r,isHovered:l}){return f.jsxs(f.Fragment,{children:[l&&f.jsx("circle",{cx:r.point.x,cy:r.point.y,r:Z,fill:k.sky400,opacity:.5}),f.jsx("path",{d:ut.x(r.point),strokeWidth:3,stroke:r.color})]})});let st=q;const Dt=J(function({size:t,shapes:r,below:l,above:p}){const y=P.useRef(null),[w,S]=P.useState(A.ZERO),[B,u]=P.useState(null),[o,d]=P.useState(A.ZERO);P.useLayoutEffect(()=>{if(!y.current)return;const x=y.current.getBoundingClientRect(),n=new A(x.left,x.top);S(i=>i.equals(n)?i:n)}),P.useEffect(()=>{const x=n=>{const i=A.fromEvent(n);d(s=>s.equals(i)?s:i)};return window.addEventListener("pointermove",x),()=>window.removeEventListener("pointermove",x)},[]);let c=null,e=1/0;for(const[x,n]of Object.entries(r)){const i=n.distanceTo(o);i<e&&(e=i,c=x)}const m=c&&e<Z?r[c]:null,{isGestureInProgress:h,events:b}=mt({onDragStart:x=>m!=null&&m.gestures.onDragStart?(u(m),m.gestures.onDragStart(x)):null});return P.useEffect(()=>{h||u(null)}),f.jsx("svg",{ref:y,width:t.x,height:t.y,viewBox:`${w.x} ${w.y} ${t.x} ${t.y}`,...b,children:f.jsxs("g",{strokeLinecap:"round",strokeLinejoin:"round",children:[l,Object.entries(r).map(([x,n])=>f.jsx(P.Fragment,{children:n.render({isHovered:h?B===n:m===n,isGestureInProgress:h&&B===n,cursor:o})},x)),p]})})}),Pt="Circle goops",St=J(function({size:t}){const[r]=P.useState({a:new z({x:400,y:400,r:100,color:k.fuchsia300}),b:new z({x:600,y:600,r:50,color:k.fuchsia300})}),{a:l,b:p}=r,y=p.circle.center.sub(l.circle.center),w=l.circle.center.add(y.withMagnitude(l.circle.radius)),S=p.circle.center.sub(y.withMagnitude(p.circle.radius)),B=y.magnitude()+l.circle.radius+p.circle.radius,u=y.magnitude()**2/(l.circle.radius+p.circle.radius)/Math.PI,d=dt(B,u,gt(ft(0,1,(y.magnitude()-(l.circle.radius+p.circle.radius))/((l.circle.radius+p.circle.radius)*1)))),c=l.circle.withRadius(d+l.circle.radius).intersectWithCircle(p.circle.withRadius(d+p.circle.radius)),e=(()=>{if(!c||c.length!==2)return null;const m={center:c[0],startPoint:l.circle.center.sub(c[0]).withMagnitude(d).add(c[0]),endPoint:p.circle.center.sub(c[0]).withMagnitude(d).add(c[0])},h={center:c[1],startPoint:l.circle.center.sub(c[1]).withMagnitude(d).add(c[1]),endPoint:p.circle.center.sub(c[1]).withMagnitude(d).add(c[1])};return new lt().moveTo(m.startPoint).counterClockwiseArcTo(m.center,m.endPoint).clockwiseArcTo(p.circle.center,h.endPoint).counterClockwiseArcTo(h.center,h.startPoint).clockwiseArcTo(l.circle.center,m.startPoint).toString()})();return f.jsx(Dt,{shapes:r,size:t,above:e&&f.jsx("path",{d:e,stroke:k.fuchsia500,strokeWidth:3,fill:"none"}),below:f.jsxs(f.Fragment,{children:[f.jsx(vt,{from:w,to:S}),f.jsx("circle",{cx:l.circle.center.x,cy:l.circle.center.y,r:d+l.circle.radius,fill:"none",strokeWidth:2,strokeDasharray:"0 4",stroke:k.purple300}),f.jsx("circle",{cx:p.circle.center.x,cy:p.circle.center.y,r:d+p.circle.radius,fill:"none",strokeWidth:2,strokeDasharray:"0 4",stroke:k.purple300}),c==null?void 0:c.map((m,h)=>f.jsxs(P.Fragment,{children:[f.jsx("path",{d:ut.x(m),strokeWidth:2,stroke:h===0?k.amber500:k.green500},h),f.jsx("circle",{cx:m.x,cy:m.y,r:d,fill:"none",strokeWidth:2,stroke:h===0?k.amber300:k.green300,strokeDasharray:"0 4"})]},h))]})})}),Mt=Object.freeze(Object.defineProperty({__proto__:null,default:St,name:Pt},Symbol.toStringTag,{value:"Module"}));function at({entries:a,current:t}){const[r,l]=P.useState(null),p=xt(r,yt);return f.jsxs("div",{className:"absolute inset-0 flex bg-stone-100 p-3 gap-3",children:[f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsx("h1",{className:"font-bold tracking-wide text-stone-600 text-center",children:"geometries"}),f.jsx("div",{children:a.map(y=>{const w=y.id===t.id;return f.jsx(wt,{href:`#/${y.id}`,className:bt(w&&"pointer-events-none bg-gradient-to-br from-fuchsia-500 to-violet-500 !text-white"),children:y.name},y.id)})})]}),f.jsx("div",{className:"relative flex-auto touch-none bg-white rounded-lg",ref:l,children:p&&f.jsx(t.component,{size:p})})]})}const Rt=Object.assign({"./experiments/circle-goops.tsx":Mt}),G=Object.entries(Rt).map(([a,t])=>{const r=a.slice(14,-4);return{id:r,component:t.default,name:t.name||r}});console.log(G);const At=kt([...G.map(a=>({path:`/${a.id}`,element:f.jsx(at,{entries:G,current:a})})),{path:"*",element:f.jsx(at,{entries:G,current:G[0]})}]),Bt=ht(document.getElementById("root"),'Assertion Error: document.getElementById("root")');pt(Bt).render(f.jsx(jt,{children:f.jsx(Tt,{router:At})}));
