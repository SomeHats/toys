import{V as v}from"./chunk_Vector2.355c88df.js";const F=300,y=30,V=500,q={size:16,streamline:.5,smoothing:.5,thinning:.5,simulatePressure:!0,easing:e=>e,start:{},end:{},last:!1},{min:b,PI:B}=Math,z=.275;function H(e,c={}){const{size:t=16,smoothing:i=.5,thinning:h=.5,simulatePressure:g=!0,easing:n=s=>s,start:a={},end:u={}}=c,{easing:P=s=>s*(2-s)}=a,{easing:p=s=>--s*s*s+1}=u;if(e.length===0||t<=0)return[];const o=e[e.length-1].runningLength,d=a.taper===!1?0:a.taper===!0?Math.max(t,o):a.taper,r=u.taper===!1?0:u.taper===!0?Math.max(t,o):u.taper,l=Math.pow(t*i,2),f=[];let m=e.slice(0,10).reduce((s,M)=>{let x=M.pressure;if(g){const O=b(1,M.distance/t),S=b(1,1-O);x=b(1,s+(S-s)*(O*z))}return(s+x)/2},e[0].pressure),E=A(t,h,e[e.length-1].pressure,n),T=e[0].point,_=T;for(let s=0;s<e.length;s++){let{pressure:M}=e[s];const{point:x,distance:O,runningLength:S}=e[s];if(s<e.length-1&&o-S<3)continue;if(h){if(g){const I=b(1,O/t),R=b(1,1-I);M=b(1,m+(R-m)*(I*z))}E=A(t,h,M,n)}else E=t/2;const C=S<d?P(S/d):1,D=o-S<r?p((o-S)/r):1;if(E=Math.max(.01,E*Math.min(C,D)),s===e.length-1){f.push({center:x,radius:E});continue}_=x,(s<=1||T.distanceToSquared(_)>l)&&(f.push({center:x,radius:E}),T=_),m=M}return f}function Z(e,c={}){var d;const{streamline:t=.5,size:i=16,last:h=!1}=c;if(e.length===0)return[];const g=.15+(1-t)*.85;let n=e.map(r=>({point:v.from(r),pressure:r.pressure}));if(n.length===2){const r=n[1];n=n.slice(0,-1);for(let l=1;l<5;l++)n.push({point:n[0].point.lerp(r.point,l/4),pressure:r.pressure})}n.length===1&&n.push({point:n[0].point.add(v.UNIT),pressure:n[0].pressure});const a=[{point:n[0].point,pressure:n[0].pressure!=null&&n[0].pressure>=0?n[0].pressure:.25,vector:v.UNIT,distance:0,runningLength:0}];let u=!1,P=0,p=a[0];const o=n.length-1;for(let r=1;r<n.length;r++){const l=n[r],f=h&&r===o?l.point:p.point.lerp(l.point,g);if(p.point.equals(f))continue;const m=f.distanceTo(p.point);if(P+=m,r<o&&!u){if(P<i)continue;u=!0}p={point:f,pressure:l.pressure!=null&&l.pressure>=0?l.pressure:.5,vector:p.point.sub(f).normalize(),distance:m,runningLength:P},a.push(p)}return a[0].vector=((d=a[1])==null?void 0:d.vector)??v.ZERO,a}function A(e,c,t,i=h=>h){return e*i(.5-c*(.5-t))}function U(e){if(!e.length)return"";const c=["M",e[0].x,e[0].y,"Q"];for(let t=0;t<e.length;t++){const i=e[t],h=e[(t+1)%e.length],g=i.add(h).scale(.5);c.push(i.x,i.y,g.x,g.y)}return c.push("Z"),c.join(" ")}function L(e){const c=[],t=[];if(e.length===0)return[];if(e.length===1){const o=[];for(let d=0;d<12;d++)o.push(e[0].center.add(v.fromPolar(d*Math.PI/6,e[0].radius)));return o}const i=e[0],g=e[1].center.sub(i.center).normalize(),n=g.perpendicular().scale(i.radius);c.push(i.center.sub(g.scale(i.radius))),c.push(i.center.sub(n)),t.push(i.center.add(n));for(let o=1;o<e.length-1;o++){const d=e[o-1],r=e[o],m=e[o+1].center.sub(d.center).normalize().perpendicular().scale(r.radius);c.push(r.center.sub(m)),t.push(r.center.add(m))}const a=e[e.length-2],u=e[e.length-1],P=u.center.sub(a.center).normalize(),p=P.perpendicular().scale(u.radius);return c.push(u.center.sub(p)),c.push(u.center.add(P.scale(u.radius))),t.push(u.center.add(p)),c.concat(t.reverse())}function j(e){return U(L(e))}export{V as A,F as S,y as U,H as a,U as b,L as c,Z as g,q as p,j as s};
