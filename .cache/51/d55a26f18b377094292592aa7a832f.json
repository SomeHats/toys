{"id":"Pdt4","dependencies":[{"name":"/home/runner/work/toys/toys/tsconfig.json","includedInParent":true,"mtime":1594853935979},{"name":"/home/runner/work/toys/toys/package.json","includedInParent":true,"mtime":1594853935975},{"name":"../lib/geom/Vector2","loc":{"line":6,"column":40},"parent":"/home/runner/work/toys/toys/src/pals/PalLegGeom.ts","resolved":"/home/runner/work/toys/toys/src/lib/geom/Vector2.ts"},{"name":"../lib/utils","loc":{"line":7,"column":22},"parent":"/home/runner/work/toys/toys/src/pals/PalLegGeom.ts","resolved":"/home/runner/work/toys/toys/src/lib/utils.ts"}],"generated":{"js":"\"use strict\";var t=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,\"__esModule\",{value:!0});var i=t(require(\"../lib/geom/Vector2\")),o=require(\"../lib/utils\"),e=function(t){var i=t.radius,o=t.hipHeight,e=t.legWidth;return Math.sqrt(i*i-(i-o)*(i-o))-e},n=function(){function t(t,i,o,n){this.palData=t,this.palGeom=i,this.config=o,this.angleOffset=n,this.liftAmount=0,this.hipRadius=e(o),this.kneeRadius=e(o)*o.kneeScale,this.floorRadius=e(o),this.footXY=this.getIdealFootRestingXY(),this.footOrigin=this.getIdealFootRestingXY()}return t.prototype.update=function(t){this.footXY=t.footXY,this.footOrigin=t.footProjectionOrigin,this.liftAmount=t.liftAmount},t.prototype.getIdealFootRestingXY=function(){return i.default.fromPolar(this.palData.heading+this.angleOffset,this.floorRadius).add(this.palData.position)},t.prototype.getFootXY=function(){return this.footXY},t.prototype.getFootZ=function(){return o.lerp(0,this.getHipZ()*this.config.legMaxLift,this.liftAmount)},t.prototype.getFootOrigin=function(){return this.footOrigin},t.prototype.getKneeXY=function(){return this.palData.position.add(i.default.fromPolar(this.palData.heading+this.angleOffset,this.kneeRadius)).add(i.default.fromPolar(this.palData.heading,this.liftAmount*this.config.kneeMaxOut))},t.prototype.getKneeZ=function(){return(this.getFootZ()+this.getHipZ())/2},t.prototype.getKneeOrigin=function(){return this.getHipOrigin().lerp(this.getFootOrigin(),.5)},t.prototype.getHipXY=function(){return this.palData.position.add(i.default.fromPolar(this.palData.heading+this.angleOffset,this.hipRadius))},t.prototype.getHipZ=function(){var t=this.palGeom.getBod();return this.palData.position.y-t.center.y-(t.radius-this.config.hipHeight)},t.prototype.getHipOrigin=function(){return this.palData.position},t}();exports.default=n;"},"sourceMaps":{"js":{"mappings":[{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":0}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":13}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":17}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":19}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":25}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":30}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":47}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":56}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":59}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":66}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":69}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":71}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":82}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":84}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":85}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":93}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":97}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":104}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":119}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":127}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":140}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":141}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":148}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":152}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":156}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":158}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":160}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":168}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":192}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":194}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":202}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":7,"column":6},"generated":{"line":1,"column":218}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":7,"column":21},"generated":{"line":1,"column":220}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":7,"column":22},"generated":{"line":1,"column":229}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":7,"column":24},"generated":{"line":1,"column":232}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":7,"column":24},"generated":{"line":1,"column":236}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":7,"column":30},"generated":{"line":1,"column":238}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":7,"column":30},"generated":{"line":1,"column":240}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":7,"column":32},"generated":{"line":1,"column":247}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":7,"column":41},"generated":{"line":1,"column":249}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":7,"column":41},"generated":{"line":1,"column":251}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":7,"column":43},"generated":{"line":1,"column":261}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":7,"column":51},"generated":{"line":1,"column":263}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":7,"column":51},"generated":{"line":1,"column":265}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":8,"column":2},"generated":{"line":1,"column":274}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":8,"column":2},"generated":{"line":1,"column":281}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":8,"column":7},"generated":{"line":1,"column":286}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":8,"column":12},"generated":{"line":1,"column":291}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":8,"column":21},"generated":{"line":1,"column":293}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":8,"column":31},"generated":{"line":1,"column":296}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":8,"column":40},"generated":{"line":1,"column":298}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":8,"column":54},"generated":{"line":1,"column":302}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":8,"column":63},"generated":{"line":1,"column":304}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":9,"column":2},"generated":{"line":1,"column":308}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":311}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":313}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":26,"column":2},"generated":{"line":1,"column":324}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":26,"column":2},"generated":{"line":1,"column":333}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":27,"column":12},"generated":{"line":1,"column":335}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":28,"column":12},"generated":{"line":1,"column":337}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":29,"column":12},"generated":{"line":1,"column":339}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":30,"column":11},"generated":{"line":1,"column":341}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":27,"column":12},"generated":{"line":1,"column":344}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":27,"column":12},"generated":{"line":1,"column":349}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":27,"column":12},"generated":{"line":1,"column":357}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":28,"column":12},"generated":{"line":1,"column":359}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":28,"column":12},"generated":{"line":1,"column":364}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":28,"column":12},"generated":{"line":1,"column":372}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":29,"column":12},"generated":{"line":1,"column":374}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":29,"column":12},"generated":{"line":1,"column":379}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":29,"column":12},"generated":{"line":1,"column":386}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":30,"column":11},"generated":{"line":1,"column":388}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":30,"column":11},"generated":{"line":1,"column":393}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":30,"column":11},"generated":{"line":1,"column":405}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":1,"column":407}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":1,"column":412}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":24,"column":23},"generated":{"line":1,"column":423}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":32,"column":9},"generated":{"line":1,"column":425}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":32,"column":9},"generated":{"line":1,"column":430}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":32,"column":21},"generated":{"line":1,"column":440}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":32,"column":34},"generated":{"line":1,"column":442}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":33,"column":9},"generated":{"line":1,"column":445}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":33,"column":9},"generated":{"line":1,"column":450}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":33,"column":22},"generated":{"line":1,"column":461}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":33,"column":35},"generated":{"line":1,"column":463}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":33,"column":45},"generated":{"line":1,"column":466}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":33,"column":52},"generated":{"line":1,"column":468}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":34,"column":9},"generated":{"line":1,"column":478}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":34,"column":9},"generated":{"line":1,"column":483}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":34,"column":23},"generated":{"line":1,"column":495}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":34,"column":36},"generated":{"line":1,"column":497}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":36,"column":9},"generated":{"line":1,"column":500}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":36,"column":9},"generated":{"line":1,"column":505}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":36,"column":18},"generated":{"line":1,"column":512}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":36,"column":23},"generated":{"line":1,"column":517}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":37,"column":9},"generated":{"line":1,"column":541}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":37,"column":9},"generated":{"line":1,"column":546}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":37,"column":22},"generated":{"line":1,"column":557}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":37,"column":27},"generated":{"line":1,"column":562}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":113,"column":0},"generated":{"line":1,"column":586}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":40,"column":2},"generated":{"line":1,"column":593}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":40,"column":2},"generated":{"line":1,"column":595}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":40,"column":2},"generated":{"line":1,"column":605}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":40,"column":2},"generated":{"line":1,"column":612}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":40,"column":9},"generated":{"line":1,"column":621}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":41,"column":9},"generated":{"line":1,"column":624}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":41,"column":9},"generated":{"line":1,"column":629}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":41,"column":18},"generated":{"line":1,"column":636}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":41,"column":25},"generated":{"line":1,"column":638}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":42,"column":9},"generated":{"line":1,"column":645}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":42,"column":9},"generated":{"line":1,"column":650}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":42,"column":22},"generated":{"line":1,"column":661}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":42,"column":29},"generated":{"line":1,"column":663}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":43,"column":9},"generated":{"line":1,"column":684}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":43,"column":9},"generated":{"line":1,"column":689}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":43,"column":22},"generated":{"line":1,"column":700}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":43,"column":29},"generated":{"line":1,"column":702}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":46,"column":2},"generated":{"line":1,"column":714}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":46,"column":2},"generated":{"line":1,"column":716}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":46,"column":2},"generated":{"line":1,"column":726}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":46,"column":2},"generated":{"line":1,"column":748}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":47,"column":11},"generated":{"line":1,"column":759}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":47,"column":11},"generated":{"line":1,"column":766}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":47,"column":11},"generated":{"line":1,"column":768}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":47,"column":19},"generated":{"line":1,"column":776}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":48,"column":6},"generated":{"line":1,"column":786}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":48,"column":11},"generated":{"line":1,"column":791}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":48,"column":19},"generated":{"line":1,"column":799}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":48,"column":29},"generated":{"line":1,"column":807}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":48,"column":34},"generated":{"line":1,"column":812}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":49,"column":6},"generated":{"line":1,"column":824}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":49,"column":11},"generated":{"line":1,"column":829}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":50,"column":6},"generated":{"line":1,"column":842}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":50,"column":10},"generated":{"line":1,"column":846}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":50,"column":15},"generated":{"line":1,"column":851}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":50,"column":23},"generated":{"line":1,"column":859}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":53,"column":2},"generated":{"line":1,"column":870}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":53,"column":2},"generated":{"line":1,"column":872}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":53,"column":2},"generated":{"line":1,"column":882}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":53,"column":2},"generated":{"line":1,"column":892}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":54,"column":11},"generated":{"line":1,"column":903}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":54,"column":11},"generated":{"line":1,"column":910}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":54,"column":16},"generated":{"line":1,"column":915}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":57,"column":2},"generated":{"line":1,"column":923}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":57,"column":2},"generated":{"line":1,"column":925}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":57,"column":2},"generated":{"line":1,"column":935}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":57,"column":2},"generated":{"line":1,"column":944}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":58,"column":11},"generated":{"line":1,"column":955}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":58,"column":11},"generated":{"line":1,"column":962}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":58,"column":11},"generated":{"line":1,"column":964}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":58,"column":16},"generated":{"line":1,"column":969}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":58,"column":19},"generated":{"line":1,"column":971}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":58,"column":24},"generated":{"line":1,"column":976}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":58,"column":36},"generated":{"line":1,"column":986}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":58,"column":41},"generated":{"line":1,"column":991}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":58,"column":48},"generated":{"line":1,"column":998}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":58,"column":60},"generated":{"line":1,"column":1009}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":58,"column":65},"generated":{"line":1,"column":1014}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":61,"column":2},"generated":{"line":1,"column":1027}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":61,"column":2},"generated":{"line":1,"column":1029}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":61,"column":2},"generated":{"line":1,"column":1039}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":61,"column":2},"generated":{"line":1,"column":1053}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":62,"column":11},"generated":{"line":1,"column":1064}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":62,"column":11},"generated":{"line":1,"column":1071}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":62,"column":16},"generated":{"line":1,"column":1076}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":65,"column":2},"generated":{"line":1,"column":1088}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":65,"column":2},"generated":{"line":1,"column":1090}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":65,"column":2},"generated":{"line":1,"column":1100}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":65,"column":2},"generated":{"line":1,"column":1110}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":66,"column":11},"generated":{"line":1,"column":1121}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":66,"column":11},"generated":{"line":1,"column":1128}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":66,"column":16},"generated":{"line":1,"column":1133}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":66,"column":24},"generated":{"line":1,"column":1141}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":67,"column":7},"generated":{"line":1,"column":1150}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":68,"column":8},"generated":{"line":1,"column":1154}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":68,"column":8},"generated":{"line":1,"column":1156}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":68,"column":16},"generated":{"line":1,"column":1164}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":69,"column":10},"generated":{"line":1,"column":1174}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":69,"column":15},"generated":{"line":1,"column":1179}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":69,"column":23},"generated":{"line":1,"column":1187}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":69,"column":33},"generated":{"line":1,"column":1195}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":69,"column":38},"generated":{"line":1,"column":1200}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":70,"column":10},"generated":{"line":1,"column":1212}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":70,"column":15},"generated":{"line":1,"column":1217}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":73,"column":7},"generated":{"line":1,"column":1230}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":74,"column":8},"generated":{"line":1,"column":1234}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":74,"column":8},"generated":{"line":1,"column":1236}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":74,"column":16},"generated":{"line":1,"column":1244}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":75,"column":10},"generated":{"line":1,"column":1254}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":75,"column":15},"generated":{"line":1,"column":1259}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":75,"column":23},"generated":{"line":1,"column":1267}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":76,"column":10},"generated":{"line":1,"column":1275}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":76,"column":15},"generated":{"line":1,"column":1280}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":76,"column":28},"generated":{"line":1,"column":1291}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":76,"column":33},"generated":{"line":1,"column":1296}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":76,"column":40},"generated":{"line":1,"column":1303}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":81,"column":2},"generated":{"line":1,"column":1317}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":81,"column":2},"generated":{"line":1,"column":1319}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":81,"column":2},"generated":{"line":1,"column":1329}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":81,"column":2},"generated":{"line":1,"column":1338}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":82,"column":11},"generated":{"line":1,"column":1349}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":82,"column":12},"generated":{"line":1,"column":1356}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":82,"column":17},"generated":{"line":1,"column":1361}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":82,"column":30},"generated":{"line":1,"column":1372}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":82,"column":35},"generated":{"line":1,"column":1377}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":82,"column":48},"generated":{"line":1,"column":1388}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":85,"column":2},"generated":{"line":1,"column":1391}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":85,"column":2},"generated":{"line":1,"column":1393}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":85,"column":2},"generated":{"line":1,"column":1403}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":85,"column":2},"generated":{"line":1,"column":1417}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":86,"column":11},"generated":{"line":1,"column":1428}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":86,"column":11},"generated":{"line":1,"column":1435}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":86,"column":16},"generated":{"line":1,"column":1440}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":86,"column":31},"generated":{"line":1,"column":1455}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":86,"column":36},"generated":{"line":1,"column":1460}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":86,"column":41},"generated":{"line":1,"column":1465}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":86,"column":58},"generated":{"line":1,"column":1481}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":89,"column":2},"generated":{"line":1,"column":1486}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":89,"column":2},"generated":{"line":1,"column":1488}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":89,"column":2},"generated":{"line":1,"column":1498}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":89,"column":2},"generated":{"line":1,"column":1507}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":90,"column":11},"generated":{"line":1,"column":1518}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":90,"column":11},"generated":{"line":1,"column":1525}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":90,"column":16},"generated":{"line":1,"column":1530}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":90,"column":24},"generated":{"line":1,"column":1538}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":90,"column":33},"generated":{"line":1,"column":1547}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":91,"column":6},"generated":{"line":1,"column":1551}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":91,"column":6},"generated":{"line":1,"column":1553}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":91,"column":14},"generated":{"line":1,"column":1561}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":92,"column":8},"generated":{"line":1,"column":1571}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":92,"column":13},"generated":{"line":1,"column":1576}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":92,"column":21},"generated":{"line":1,"column":1584}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":92,"column":31},"generated":{"line":1,"column":1592}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":92,"column":36},"generated":{"line":1,"column":1597}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":93,"column":8},"generated":{"line":1,"column":1609}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":93,"column":13},"generated":{"line":1,"column":1614}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":101,"column":2},"generated":{"line":1,"column":1627}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":101,"column":2},"generated":{"line":1,"column":1629}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":101,"column":2},"generated":{"line":1,"column":1639}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":101,"column":2},"generated":{"line":1,"column":1647}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":102,"column":10},"generated":{"line":1,"column":1658}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":102,"column":10},"generated":{"line":1,"column":1662}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":102,"column":16},"generated":{"line":1,"column":1664}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":102,"column":21},"generated":{"line":1,"column":1669}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":102,"column":29},"generated":{"line":1,"column":1677}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":104,"column":6},"generated":{"line":1,"column":1686}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":104,"column":6},"generated":{"line":1,"column":1693}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":104,"column":11},"generated":{"line":1,"column":1698}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":104,"column":19},"generated":{"line":1,"column":1706}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":104,"column":28},"generated":{"line":1,"column":1715}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":105,"column":6},"generated":{"line":1,"column":1717}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":105,"column":10},"generated":{"line":1,"column":1719}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":105,"column":17},"generated":{"line":1,"column":1726}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":106,"column":7},"generated":{"line":1,"column":1729}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":106,"column":11},"generated":{"line":1,"column":1731}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":106,"column":20},"generated":{"line":1,"column":1738}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":106,"column":25},"generated":{"line":1,"column":1743}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":106,"column":32},"generated":{"line":1,"column":1750}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":110,"column":2},"generated":{"line":1,"column":1762}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":110,"column":2},"generated":{"line":1,"column":1764}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":110,"column":2},"generated":{"line":1,"column":1774}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":110,"column":2},"generated":{"line":1,"column":1787}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":111,"column":11},"generated":{"line":1,"column":1798}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":111,"column":11},"generated":{"line":1,"column":1805}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":111,"column":16},"generated":{"line":1,"column":1810}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":111,"column":24},"generated":{"line":1,"column":1818}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":113,"column":0},"generated":{"line":1,"column":1828}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":1830}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":1833}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":1841}},{"source":"pals/PalLegGeom.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":1849}}],"sources":{"pals/PalLegGeom.ts":"import PalGeom from './PalGeom';\nimport { PalConfig } from './PalConfig';\nimport Vector2 from '../lib/geom/Vector2';\nimport { PalControlData } from './PalController';\nimport { lerp } from '../lib/utils';\n\nconst getLegRadius = ({ radius, hipHeight, legWidth }: PalConfig) =>\n  Math.sqrt(radius * radius - (radius - hipHeight) * (radius - hipHeight)) -\n  legWidth;\n\nexport type PalLegGeomUpdate = {\n  footXY: Vector2;\n  footProjectionOrigin: Vector2;\n  liftAmount: number;\n};\n\nexport default class PalLegGeom {\n  hipRadius: number;\n  kneeRadius: number;\n  floorRadius: number;\n\n  footXY: Vector2;\n  footOrigin: Vector2;\n  liftAmount: number = 0;\n\n  constructor(\n    private palData: PalControlData,\n    private palGeom: PalGeom,\n    private config: PalConfig,\n    public angleOffset: number,\n  ) {\n    this.hipRadius = getLegRadius(config);\n    this.kneeRadius = getLegRadius(config) * config.kneeScale;\n    this.floorRadius = getLegRadius(config);\n\n    this.footXY = this.getIdealFootRestingXY();\n    this.footOrigin = this.getIdealFootRestingXY();\n  }\n\n  update(update: PalLegGeomUpdate) {\n    this.footXY = update.footXY;\n    this.footOrigin = update.footProjectionOrigin;\n    this.liftAmount = update.liftAmount;\n  }\n\n  getIdealFootRestingXY(): Vector2 {\n    return Vector2.fromPolar(\n      this.palData.heading + this.angleOffset,\n      this.floorRadius,\n    ).add(this.palData.position);\n  }\n\n  getFootXY(): Vector2 {\n    return this.footXY;\n  }\n\n  getFootZ(): number {\n    return lerp(0, this.getHipZ() * this.config.legMaxLift, this.liftAmount);\n  }\n\n  getFootOrigin(): Vector2 {\n    return this.footOrigin;\n  }\n\n  getKneeXY(): Vector2 {\n    return this.palData.position\n      .add(\n        Vector2.fromPolar(\n          this.palData.heading + this.angleOffset,\n          this.kneeRadius,\n        ),\n      )\n      .add(\n        Vector2.fromPolar(\n          this.palData.heading,\n          this.liftAmount * this.config.kneeMaxOut,\n        ),\n      );\n  }\n\n  getKneeZ(): number {\n    return (this.getFootZ() + this.getHipZ()) / 2;\n  }\n\n  getKneeOrigin(): Vector2 {\n    return this.getHipOrigin().lerp(this.getFootOrigin(), 0.5);\n  }\n\n  getHipXY(): Vector2 {\n    return this.palData.position.add(\n      Vector2.fromPolar(\n        this.palData.heading + this.angleOffset,\n        this.hipRadius,\n      ),\n    );\n    // return this._hipEllipse\n    //   .pointOnCircumference(this.angle)\n    //   .add(this.palData.bod.center);\n  }\n\n  getHipZ(): number {\n    const bod = this.palGeom.getBod();\n    return (\n      this.palData.position.y -\n      bod.center.y -\n      (bod.radius - this.config.hipHeight)\n    );\n  }\n\n  getHipOrigin(): Vector2 {\n    return this.palData.position;\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"d54fd98950cf96779e6b1186f68f1596","cacheData":{"env":{}}}