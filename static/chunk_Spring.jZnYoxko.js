var H=i=>{throw TypeError(i)};var K=(i,t,a)=>t.has(i)||H("Cannot "+a);var C=(i,t,a)=>(K(i,t,"read from private field"),a?a.call(i):t.get(i)),F=(i,t,a)=>t.has(i)?H("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,a),D=(i,t,a,g)=>(K(i,t,"write to private field"),g?g.call(i,a):t.set(i,a),a);import"./chunk_Ticker.D-_VqIIb.js";import{n as L,r as N,T as Y}from"./chunk_signia.DFrXhBNW.js";import{a as Z}from"./chunk_utils.CSiPn6yw.js";import"./chunk_track.BfnN30_R.js";import"./chunk_index.C5eOxiyT.js";let U,W,q;function $(){function i(r,o){return function(u){(function(f,e){if(f.v)throw Error("attempted to call addInitializer after decoration was finished")})(o),g(u,"An initializer"),r.push(u)}}function t(r,o){if(!r(o))throw new TypeError("Attempted to access private element on non-instance")}function a(r,o,u,f,e,y,h,m,_){var n;switch(e){case 1:n="accessor";break;case 2:n="method";break;case 3:n="getter";break;case 4:n="setter";break;default:n="field"}var s,p,c={kind:n,name:h?"#"+o:tt(o),static:y,private:h},d={v:!1};if(e!==0&&(c.addInitializer=i(f,d)),h||e!==0&&e!==2)if(e===2)s=function(l){return t(_,l),u.value};else{var v=e===0||e===1;(v||e===3)&&(s=h?function(l){return t(_,l),u.get.call(l)}:function(l){return u.get.call(l)}),(v||e===4)&&(p=h?function(l,b){t(_,l),u.set.call(l,b)}:function(l,b){u.set.call(l,b)})}else s=function(l){return l[o]},e===0&&(p=function(l,b){l[o]=b});var w=h?_.bind():function(l){return o in l};c.access=s&&p?{get:s,set:p,has:w}:s?{get:s,has:w}:{set:p,has:w};try{return r(m,c)}finally{d.v=!0}}function g(r,o){if(typeof r!="function")throw new TypeError(o+" must be a function")}function E(r,o){var u=typeof o;if(r===1){if(u!=="object"||o===null)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0");o.get!==void 0&&g(o.get,"accessor.get"),o.set!==void 0&&g(o.set,"accessor.set"),o.init!==void 0&&g(o.init,"accessor.init")}else if(u!=="function")throw new TypeError((r===0?"field":r===10?"class":"method")+" decorators must return a function or void 0")}function V(r){return function(o){r(this,o)}}function j(r,o,u,f,e,y,h,m,_){var n,s,p,c,d,v,w,l,b=u[0];if(h?(e===0||e===1?(n={get:(d=u[3],function(){return d(this)}),set:V(u[4])},p="get"):e===3?(n={get:u[3]},p="get"):e===4?(n={set:u[3]},p="set"):n={value:u[3]},e!==0&&(e===1&&G(n.set,"#"+f,"set"),G(n[p||"value"],"#"+f,p))):e!==0&&(n=Object.getOwnPropertyDescriptor(o,f)),e===1?c={get:n.get,set:n.set}:e===2?c=n.value:e===3?c=n.get:e===4&&(c=n.set),typeof b=="function")(v=a(b,f,n,m,e,y,h,c,_))!==void 0&&(E(e,v),e===0?s=v:e===1?(s=v.init,w=v.get||c.get,l=v.set||c.set,c={get:w,set:l}):c=v);else for(var M=b.length-1;M>=0;M--){var k;(v=a(b[M],f,n,m,e,y,h,c,_))!==void 0&&(E(e,v),e===0?k=v:e===1?(k=v.init,w=v.get||c.get,l=v.set||c.set,c={get:w,set:l}):c=v,k!==void 0&&(s===void 0?s=k:typeof s=="function"?s=[s,k]:s.push(k)))}if(e===0||e===1){if(s===void 0)s=function(T,A){return A};else if(typeof s!="function"){var O=s;s=function(T,A){for(var R=A,x=0;x<O.length;x++)R=O[x].call(T,R);return R}}else{var X=s;s=function(T,A){return X.call(T,A)}}r.push(s)}e!==0&&(e===1?(n.get=c.get,n.set=c.set):e===2?n.value=c:e===3?n.get=c:e===4&&(n.set=c),h?e===1?(r.push(function(T,A){return c.get.call(T,A)}),r.push(function(T,A){return c.set.call(T,A)})):e===2?r.push(c):r.push(function(T,A){return c.call(T,A)}):Object.defineProperty(o,f,n))}function I(r,o,u){for(var f,e,y,h=[],m=new Map,_=new Map,n=0;n<o.length;n++){var s=o[n];if(Array.isArray(s)){var p,c,d=s[1],v=s[2],w=s.length>3,l=d>=5,b=u;if(l?(p=r,(d-=5)!=0&&(c=e=e||[]),w&&!y&&(y=function(O){return it(O)===r}),b=y):(p=r.prototype,d!==0&&(c=f=f||[])),d!==0&&!w){var M=l?_:m,k=M.get(v)||0;if(k===!0||k===3&&d!==4||k===4&&d!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+v);!k&&d>2?M.set(v,d):M.set(v,!0)}j(h,p,s,v,d,l,w,c,b)}}return P(h,f),P(h,e),h}function P(r,o){o&&r.push(function(u){for(var f=0;f<o.length;f++)o[f].call(u);return u})}return function(r,o,u,f){return{e:I(r,o,f),get c(){return function(e,y){if(y.length>0){for(var h=[],m=e,_=e.name,n=y.length-1;n>=0;n--){var s={v:!1};try{var p=y[n](m,{kind:"class",name:_,addInitializer:i(h,s)})}finally{s.v=!0}p!==void 0&&(E(10,p),m=p)}return[m,function(){for(var c=0;c<h.length;c++)h[c].call(m)}]}}(r,u)}}}}function Q(i,t,a,g){return(Q=$())(i,t,a,g)}function tt(i){var t=et(i,"string");return typeof t=="symbol"?t:t+""}function et(i,t){if(typeof i!="object"||!i)return i;var a=i[Symbol.toPrimitive];if(a!==void 0){var g=a.call(i,t);if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function G(i,t,a){typeof t=="symbol"&&(t=(t=t.description)?"["+t+"]":"");try{Object.defineProperty(i,"name",{configurable:!0,value:a?a+" "+t:t})}catch{}return i}function it(i){if(Object(i)!==i)throw TypeError("right-hand side of 'in' should be an object, got "+(i!==null?typeof i:"null"));return i}var S,z;const B=class B{constructor(t){F(this,S);F(this,z);this._target=void U(this),D(this,S,W(this)),D(this,z,q(this,0)),this.destroy=Z,this._target=L(t.target),this._tension=L(t.tension??230),this._friction=L(t.friction??22),this.value=t.value??this._target.__unsafe__getWithoutCapture(),this.ticker=t.ticker,(t.shouldStart??!0)&&this.start()}get value(){return C(this,S)}set value(t){D(this,S,t)}get velocity(){return C(this,z)}set velocity(t){D(this,z,t)}reset(){this.value=this.target,this.velocity=0}start(){this.destroy=this.ticker.listen(({deltaMs:t})=>{this.tick(t)})}get target(){return this._target.value}set target(t){this._target.set(t)}get tension(){return this._tension.value}set tension(t){this._tension.set(t)}get friction(){return this._friction.value}set friction(t){this._friction.set(t)}tick(t){const a=Math.min(t,100)/(1e3*Y),{target:g,tension:E,friction:V,value:j,velocity:I}=this;let P=j,r=I;const o=I,u=E*(g-P)-V*I;P=j+o*a*.5,r=I+u*a*.5;const f=r,e=E*(g-P)-V*r;P=j+f*a*.5,r=I+e*a*.5;const y=r,h=E*(g-P)-V*r;P=j+y*a,r=I+h*a;const m=r,_=E*(g-P)-V*r,n=1/6*(o+2*(f+y)+m),s=1/6*(u+2*(e+h)+_);Math.abs(n)<1e-6?this.value=this.target:this.value+=n*a,Math.abs(s)<1e-6?this.velocity=0:this.velocity+=s*a}};S=new WeakMap,z=new WeakMap,[W,q,U]=Q(B,[[N,1,"value"],[N,1,"velocity"]],[]).e;let J=B;export{J as S};
