import{j as o}from"./chunk_client.CotzxIPX.js";import{D as a}from"./chunk_DebugDraw.DAmUnYNO.js";import{V as d}from"./chunk_Vector2.B_B2dMXe.js";import{b as R}from"./chunk_assert.pxkjFBOg.js";import{A as O}from"./chunk_AABB.B469SoIe.js";import{a as A,s as B,u as m}from"./chunk_useResizeObserver.DYIaNo-1.js";import{u as b}from"./chunk_useMergedRefs.MPIvL6fk.js";import{r as f}from"./chunk_index.C5eOxiyT.js";import{S as x}from"./chunk_svgPathBuilder.D8WIOAcJ.js";const h=f.createContext(1);function v(){return f.useContext(h)}const k=f.forwardRef(function({viewBox:r,...e},n){const[s,l]=f.useState(null),c=A(s,B),u=c?c.x/r.width:1;return o.jsx(h.Provider,{value:u,children:o.jsx("svg",{...e,ref:b(l,n),viewBox:`${r.left} ${r.top} ${r.right} ${r.bottom}`})})});function V({viewBox:t,onPointerDown:r,onPointerMove:e,onPointerUp:n,onPointerCancel:s,...l}){const c=f.useRef(null);function u(i){const w=O.from(R(c.current,"Assertion Error: svgRef.current").getBoundingClientRect());return d.fromEvent(i).mapRange(w,t)}const E=m(i=>{r==null||r(u(i),i)}),g=m(i=>{e==null||e(u(i),i)}),p=m(i=>{n==null||n(u(i),i)}),S=m(i=>{s==null||s(u(i),i)});return f.useEffect(()=>(window.addEventListener("pointerdown",E),window.addEventListener("pointermove",g),window.addEventListener("pointerup",p),window.addEventListener("pointercancel",S),()=>{window.removeEventListener("pointerdown",E),window.removeEventListener("pointermove",g),window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",S)}),[S,E,g,p]),o.jsx(k,{ref:c,viewBox:t,...l})}function D(){return t=>t}function _({strokeWidth:t=1,stroke:r="transparent",strokeCap:e="butt",strokeDash:n=[],strokeDashOffset:s=0,strokeJoin:l="round"}={}){const c=v();return D()({stroke:r,strokeWidth:t/c,strokeLinecap:e,strokeLinejoin:l,strokeDasharray:n.map(u=>u/c).join(" "),strokeDashoffset:s/c})}function I({fill:t="transparent"}={}){return D()({fill:t})}function G(t){return{..._(t),...I(t)}}function L(t=a.DEFAULT_DEBUG_COLOR){return{stroke:t,strokeWidth:a.HAIRLINE}}function j({label:t,position:r,color:e}){const n=v();if(!t)return null;const s=d.from(r).add(a.LABEL_OFFSET.scale(1/n));return o.jsx("text",{x:s.x,y:s.y,className:"font-sans",textAnchor:"left",fontSize:8/n,...I({fill:e??a.DEFAULT_DEBUG_COLOR}),children:t})}function T({color:t,path:r}){return o.jsx("path",{d:r,..._(L(t)),fill:"transparent"})}function W({position:t,...r}){const e=v(),{x:n,y:s}=d.from(t);return o.jsxs(o.Fragment,{children:[o.jsx(T,{...r,path:new x().moveTo(n-a.DEBUG_POINT_SIZE/e,s-a.DEBUG_POINT_SIZE/e).lineTo(n+a.DEBUG_POINT_SIZE/e,s+a.DEBUG_POINT_SIZE/e).moveTo(n-a.DEBUG_POINT_SIZE/e,s+a.DEBUG_POINT_SIZE/e).lineTo(n+a.DEBUG_POINT_SIZE/e,s-a.DEBUG_POINT_SIZE/e).toString()}),o.jsx(j,{...r,position:t})]})}function H({center:t,radius:r,...e}){const{x:n,y:s}=d.from(t);return o.jsxs(o.Fragment,{children:[o.jsx("circle",{cx:n,cy:s,r,...G(L(e.color))}),o.jsx(j,{...e,position:t})]})}function X({points:t,...r}){const e=new x;t.length>1&&e.moveTo(t[0]);for(let n=1;n<t.length;n++)e.lineTo(t[n]);return o.jsx(T,{...r,path:e.toString()})}export{W as D,V as S,H as a,X as b};
