var H=(f,e,l)=>{if(!e.has(f))throw TypeError("Cannot "+l)};var C=(f,e,l)=>(H(f,e,"read from private field"),l?l.call(f):e.get(f)),L=(f,e,l)=>{if(e.has(f))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(f):e.set(f,l)},S=(f,e,l,p)=>(H(f,e,"write to private field"),p?p.call(f,l):e.set(f,l),l);import"./chunk_Ticker.W3AthjLp.js";import{n as B,r as U,T as N}from"./chunk_signia._kyOjg0K.js";import{d as Q}from"./chunk_utils.ferkvykK.js";import"./chunk_track.lGoURb00.js";import"./chunk_index.V9mWGg2B.js";var W,q,G;function X(){function f(i,r){return function(c){(function(h,t){if(h.v)throw new Error("attempted to call "+t+" after decoration was finished")})(r,"addInitializer"),p(c,"An initializer"),i.push(c)}}function e(i,r){if(!i(r))throw new TypeError("Attempted to access private element on non-instance")}function l(i,r,c,h,t,d,v,y,m){var s;switch(t){case 1:s="accessor";break;case 2:s="method";break;case 3:s="getter";break;case 4:s="setter";break;default:s="field"}var o,n,g={kind:s,name:v?"#"+r:r,static:d,private:v},a={v:!1};if(t!==0&&(g.addInitializer=f(h,a)),v||t!==0&&t!==2)if(t===2)o=function(u){return e(m,u),c.value};else{var b=t===0||t===1;(b||t===3)&&(o=v?function(u){return e(m,u),c.get.call(u)}:function(u){return c.get.call(u)}),(b||t===4)&&(n=v?function(u,w){e(m,u),c.set.call(u,w)}:function(u,w){c.set.call(u,w)})}else o=function(u){return u[r]},t===0&&(n=function(u,w){u[r]=w});var _=v?m.bind():function(u){return r in u};g.access=o&&n?{get:o,set:n,has:_}:o?{get:o,has:_}:{set:n,has:_};try{return i(y,g)}finally{a.v=!0}}function p(i,r){if(typeof i!="function")throw new TypeError(r+" must be a function")}function T(i,r){var c=typeof r;if(i===1){if(c!=="object"||r===null)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0");r.get!==void 0&&p(r.get,"accessor.get"),r.set!==void 0&&p(r.set,"accessor.set"),r.init!==void 0&&p(r.init,"accessor.init")}else if(c!=="function"){var h;throw h=i===0?"field":i===10?"class":"method",new TypeError(h+" decorators must return a function or void 0")}}function j(i){return function(r){i(this,r)}}function z(i,r,c,h,t,d,v,y,m){var s,o,n,g,a,b,_,u=c[0];if(v?s=t===0||t===1?{get:(g=c[3],function(){return g(this)}),set:j(c[4])}:t===3?{get:c[3]}:t===4?{set:c[3]}:{value:c[3]}:t!==0&&(s=Object.getOwnPropertyDescriptor(r,h)),t===1?n={get:s.get,set:s.set}:t===2?n=s.value:t===3?n=s.get:t===4&&(n=s.set),typeof u=="function")(a=l(u,h,s,y,t,d,v,n,m))!==void 0&&(T(t,a),t===0?o=a:t===1?(o=a.init,b=a.get||n.get,_=a.set||n.set,n={get:b,set:_}):n=a);else for(var w=u.length-1;w>=0;w--){var I;(a=l(u[w],h,s,y,t,d,v,n,m))!==void 0&&(T(t,a),t===0?I=a:t===1?(I=a.init,b=a.get||n.get,_=a.set||n.set,n={get:b,set:_}):n=a,I!==void 0&&(o===void 0?o=I:typeof o=="function"?o=[o,I]:o.push(I)))}if(t===0||t===1){if(o===void 0)o=function(M,k){return k};else if(typeof o!="function"){var E=o;o=function(M,k){for(var R=k,x=0;x<E.length;x++)R=E[x].call(M,R);return R}}else{var O=o;o=function(M,k){return O.call(M,k)}}i.push(o)}t!==0&&(t===1?(s.get=n.get,s.set=n.set):t===2?s.value=n:t===3?s.get=n:t===4&&(s.set=n),v?t===1?(i.push(function(M,k){return n.get.call(M,k)}),i.push(function(M,k){return n.set.call(M,k)})):t===2?i.push(n):i.push(function(M,k){return n.call(M,k)}):Object.defineProperty(r,h,s))}function V(i,r,c){for(var h,t,d,v=[],y=new Map,m=new Map,s=0;s<r.length;s++){var o=r[s];if(Array.isArray(o)){var n,g,a=o[1],b=o[2],_=o.length>3,u=a>=5,w=c;if(u?(n=i,(a-=5)!==0&&(g=t=t||[]),_&&!d&&(d=function(O){return Y(O)===i}),w=d):(n=i.prototype,a!==0&&(g=h=h||[])),a!==0&&!_){var I=u?m:y,E=I.get(b)||0;if(E===!0||E===3&&a!==4||E===4&&a!==3)throw new Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+b);!E&&a>2?I.set(b,a):I.set(b,!0)}z(v,n,o,b,a,u,_,g,w)}}return A(v,h),A(v,t),v}function A(i,r){r&&i.push(function(c){for(var h=0;h<r.length;h++)r[h].call(c);return c})}return function(i,r,c,h){return{e:V(i,r,h),get c(){return function(t,d){if(d.length>0){for(var v=[],y=t,m=t.name,s=d.length-1;s>=0;s--){var o={v:!1};try{var n=d[s](y,{kind:"class",name:m,addInitializer:f(v,o)})}finally{o.v=!0}n!==void 0&&(T(10,n),y=n)}return[y,function(){for(var g=0;g<v.length;g++)v[g].call(y)}]}}(i,c)}}}}function K(f,e,l,p){return(K=X())(f,e,l,p)}function Y(f){if(Object(f)!==f)throw TypeError("right-hand side of 'in' should be an object, got "+(f!==null?typeof f:"null"));return f}var D,P;const F=class F{constructor(e){L(this,D,void 0);L(this,P,void 0);S(this,D,(G(this),W(this))),S(this,P,q(this,0)),this.destroy=Q,this._target=B(e.target),this._tension=B(e.tension??230),this._friction=B(e.friction??22),this.value=e.value??this._target.__unsafe__getWithoutCapture(),this.ticker=e.ticker,(e.shouldStart??!0)&&this.start()}get value(){return C(this,D)}set value(e){S(this,D,e)}get velocity(){return C(this,P)}set velocity(e){S(this,P,e)}reset(){this.value=this.target,this.velocity=0}start(){this.destroy=this.ticker.listen(({deltaMs:e})=>{this.tick(e)})}get target(){return this._target.value}set target(e){this._target.set(e)}get tension(){return this._tension.value}set tension(e){this._tension.set(e)}get friction(){return this._friction.value}set friction(e){this._friction.set(e)}tick(e){const l=Math.min(e,100)/(1e3*N),{target:p,tension:T,friction:j,value:z,velocity:V}=this;let A=z,i=V;const r=V,c=T*(p-A)-j*V;A=z+r*l*.5,i=V+c*l*.5;const h=i,t=T*(p-A)-j*i;A=z+h*l*.5,i=V+t*l*.5;const d=i,v=T*(p-A)-j*i;A=z+d*l,i=V+v*l;const y=i,m=T*(p-A)-j*i,s=1/6*(r+2*(h+d)+y),o=1/6*(c+2*(t+v)+m);Math.abs(s)<1e-6?this.value=this.target:this.value+=s*l,Math.abs(o)<1e-6?this.velocity=0:this.velocity+=o*l}};D=new WeakMap,P=new WeakMap,[W,q,G]=K(F,[[U,1,"value"],[U,1,"velocity"]],[]).e;let J=F;export{J as S};
