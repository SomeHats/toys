var St=s=>{throw TypeError(s)};var It=(s,t,e)=>t.has(s)||St("Cannot "+e);var u=(s,t,e)=>(It(s,t,"read from private field"),e?e.call(s):t.get(s)),E=(s,t,e)=>t.has(s)?St("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(s):t.set(s,e),w=(s,t,e,i)=>(It(s,t,"write to private field"),i?i.call(s,e):t.set(s,e),e);import"./chunk_modulepreload-polyfill.B5Qt9EMX.js";/* empty css                       */import{j as r,c as qt}from"./chunk_client.CotzxIPX.js";import{a as Vt}from"./chunk_load.D4FqjuM3.js";import{l as lt,i as ht,e as yt,b as Yt,d as F,g as z,j as Tt,o as Kt}from"./chunk_utils.BtQBvwlT.js";import{r as L}from"./chunk_index.C5eOxiyT.js";import{D as Jt}from"./chunk_DebugDraw.DAmUnYNO.js";import{a as At,b as $t}from"./chunk_assert.pxkjFBOg.js";import{c as Wt}from"./chunk_index.ZX3Pv0I0.js";import{y as ot}from"./chunk_radio-group.DQZYN9TI.js";import{S as et}from"./chunk_Spring.Dww0cPTw.js";import{T as Qt}from"./chunk_Ticker.CCL_5-d9.js";import{i as te,o as ee,a as ie}from"./chunk_easings.B-aZwWel.js";import{A as at}from"./chunk_AABB.B469SoIe.js";import{C as wt}from"./chunk_Circle.CMegmtsq.js";import{V as mt}from"./chunk_Vector2.B_B2dMXe.js";import{r as $,m as ut,d as se}from"./chunk_signia.MYNlGhjX.js";import{S as Rt}from"./chunk_svgPathBuilder.D8WIOAcJ.js";import{t as kt,c as N}from"./chunk_index.7f6X1YHT.js";import{G as re}from"./chunk_iconBase.CJdW0osQ.js";import{c as ne,R as oe}from"./chunk_index.j-hgoUDg.js";import"./chunk__commonjsHelpers.Cpj98o6Y.js";import"./chunk_EventEmitter.DASG4daq.js";import"./chunk_Line2.C-olQP7f.js";import"./chunk_RingBuffer.DBvCcgdE.js";const ct=256,ae=lt(async()=>{const[s]=await Promise.all([Vt(new URL("/toys/static/asset_emojis.5x78WyjN.png",import.meta.url))]);return{emoji:s}});function ce(){const[s,t]=L.useState(null);return L.useEffect(()=>{let e=!1;return ae().then(i=>{e||t(i)},i=>{e||console.error(i)}),()=>{e=!0}},[]),L.useMemo(()=>s?le.bind(null,s):null,[s])}function le(s,t,e,i){t.drawImage(s.emoji,e.emotion*ct,jt.indexOf(e.character)*ct,ct,ct,0,0,i,i)}function he({draw:s,width:t,height:e,style:i={},className:p}){const c=t*window.devicePixelRatio,m=e*window.devicePixelRatio,k=L.useRef(null);return L.useLayoutEffect(()=>{At(k.current,"Assertion Error: canvasRef.current");const C=k.current.getContext("2d");At(C,"Assertion Error: ctx"),C.scale(window.devicePixelRatio,window.devicePixelRatio);const a=new Jt(C);a.clear(),s(a),C.resetTransform()}),r.jsx("canvas",{width:c,height:m,ref:k,style:{...i,width:t,height:e},className:p})}const jt=["yeti","cat","tree"],Dt=[0,1,2,3,4,5,6,7,8,9];function Ct({sizePx:s,emoji:t,style:e,className:i}){const p=ce();return p?r.jsx(he,{width:s,height:s,draw:c=>{p(c.ctx,t,s)},style:e,className:i}):null}function ue(){const[s,t]=L.useState({character:"yeti",emotion:0});return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex p-1 gap-1",children:[r.jsx(ot,{value:s.character,onChange:e=>t({...s,character:e}),className:"flex bg-stone-200 rounded p-1 gap-1",children:jt.map((e,i)=>r.jsx(ot.Option,{value:e,className:"rounded-sm px-2 ui-checked:bg-stone-50 hover:bg-stone-100 cursor-pointer",children:e},i))}),r.jsx(ot,{value:s.emotion,onChange:e=>t({...s,emotion:e}),className:"flex bg-stone-200 rounded p-1 gap-1",children:Dt.map((e,i)=>r.jsx(ot.Option,{value:e,className:"rounded-sm px-2 ui-checked:bg-stone-50 hover:bg-stone-100 cursor-pointer",children:e},i))})]}),r.jsx(de,{value:s,render:e=>r.jsx(Ct,{sizePx:256,emoji:e,className:"!w-32 !h-32"})}),r.jsx("div",{className:"flex flex-col",children:jt.map((e,i)=>r.jsx("div",{className:"flex",children:Dt.map((p,c)=>r.jsx("div",{children:r.jsx(Ct,{sizePx:128,emoji:{character:e,emotion:p}})},c))},i))})]})}function de({value:s,render:t,className:e="relative",itemClassName:i="bg-stone-100"}){const[p,c]=L.useState({items:[{value:s,index:0}],index:0});return p.items[p.items.length-1].value!==s&&c({items:[...p.items,{value:s,index:p.index+1}],index:p.index+1}),r.jsx("div",{className:e,children:p.items.map((m,k)=>{const C=k===p.items.length-1;return r.jsx("div",{className:Wt("animate-[fade_0.2s_both]",i,C?"relative z-10":"absolute top-0 left-0 z-0"),onAnimationEnd:()=>{c(a=>({...a,items:a.items.filter(o=>o.index>=m.index)}))},children:t(m.value)},m.index)})})}function W({name:s="Charlie Yeti",funZone:t}){return r.jsxs("div",{className:"bg-white rounded-md shadow-sm text-sm",children:[r.jsxs("div",{className:"flex items-center gap-3 px-5 py-2 pt-5",children:[r.jsx("div",{className:"flex-none aspect-square rounded-full bg-gray-300 w-8 flex items-center justify-center",children:pe(s)}),r.jsxs("div",{className:"flex-auto text-xs",children:[r.jsx("div",{className:"font-semibold",children:s}),r.jsx("div",{className:"text-gray-600",children:"Jan 2 at 7:46pm"})]})]}),r.jsxs("div",{className:"flex flex-col gap-2 px-5 py-2",children:[r.jsx("p",{children:"A spectre is haunting Europe â€” the spectre of communism. All the powers of old Europe have entered into a holy alliance to exorcise this spectre: Pope and Tsar, Metternich and Guizot, French Radicals and German police-spies."}),r.jsx("p",{children:"Where is the party in opposition that has not been decried as communistic by its opponents in power? Where is the opposition that has not hurled back the branding reproach of communism, against the more advanced opposition parties, as well as against its reactionary adversaries?"})]}),r.jsxs("div",{className:"flex border-t mt-2 mx-5 py-3",children:[t,r.jsx("button",{className:"ml-auto text-xs hover:bg-gray-100 rounded px-3 py-2",children:"0 comments"})]})]})}function pe(s){return s.split(" ").filter(Boolean).map(t=>t[0].toUpperCase()).join("").slice(0,2)}const fe={position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:"100000",touchAction:"none"};class me{constructor({down:t,move:e,up:i,debug:p,cursor:c}){this.attachedTo=null,this.onDown=t,this.onMove=e,this.onUp=i;const m=document.createElement("div");m.setAttribute("touch-action","none"),Object.assign(m.style,fe),p&&(m.style.background="rgba(0, 255, 0, 0.3)"),c&&(m.style.cursor=c),this.cover=m}attach(){const t=document.body;!this.attachedTo&&t&&(this.attachedTo=t,this.attachedTo.appendChild(this.cover),this.attachEvents(),document.body.style.userSelect="none",document.body.style.webkitUserSelect="none",document.body.style.touchAction="none")}remove(){this.attachedTo&&(this.attachedTo.removeChild(this.cover),this.attachedTo=null,this.removeEvents(),document.body.style.userSelect="",document.body.style.webkitUserSelect="",document.body.style.touchAction="")}attachEvents(){this.onDown&&window.addEventListener("pointerdown",this.onDown,!1),this.onMove&&window.addEventListener("pointermove",this.onMove,!1),this.onUp&&window.addEventListener("pointerup",this.onUp,!1)}removeEvents(){this.onDown&&window.removeEventListener("pointerdown",this.onDown),this.onMove&&window.removeEventListener("pointermove",this.onMove),this.onUp&&window.removeEventListener("pointerup",this.onUp)}}function Ht(s){return re({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"}},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}}]})(s)}let Nt,_t,Mt,Bt,Lt,zt,Ft,Zt;function ge(){function s(a,o){return function(f){(function(v,n){if(v.v)throw Error("attempted to call addInitializer after decoration was finished")})(o),i(f,"An initializer"),a.push(f)}}function t(a,o){if(!a(o))throw new TypeError("Attempted to access private element on non-instance")}function e(a,o,f,v,n,P,x,O,A){var l;switch(n){case 1:l="accessor";break;case 2:l="method";break;case 3:l="getter";break;case 4:l="setter";break;default:l="field"}var d,j,h={kind:l,name:x?"#"+o:ve(o),static:P,private:x},b={v:!1};if(n!==0&&(h.addInitializer=s(v,b)),x||n!==0&&n!==2)if(n===2)d=function(g){return t(A,g),f.value};else{var y=n===0||n===1;(y||n===3)&&(d=x?function(g){return t(A,g),f.get.call(g)}:function(g){return f.get.call(g)}),(y||n===4)&&(j=x?function(g,S){t(A,g),f.set.call(g,S)}:function(g,S){f.set.call(g,S)})}else d=function(g){return g[o]},n===0&&(j=function(g,S){g[o]=S});var T=x?A.bind():function(g){return o in g};h.access=d&&j?{get:d,set:j,has:T}:d?{get:d,has:T}:{set:j,has:T};try{return a(O,h)}finally{b.v=!0}}function i(a,o){if(typeof a!="function")throw new TypeError(o+" must be a function")}function p(a,o){var f=typeof o;if(a===1){if(f!=="object"||o===null)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0");o.get!==void 0&&i(o.get,"accessor.get"),o.set!==void 0&&i(o.set,"accessor.set"),o.init!==void 0&&i(o.init,"accessor.init")}else if(f!=="function")throw new TypeError((a===0?"field":a===10?"class":"method")+" decorators must return a function or void 0")}function c(a){return function(o){a(this,o)}}function m(a,o,f,v,n,P,x,O,A){var l,d,j,h,b,y,T,g,S=f[0];if(x?(n===0||n===1?(l={get:(b=f[3],function(){return b(this)}),set:c(f[4])},j="get"):n===3?(l={get:f[3]},j="get"):n===4?(l={set:f[3]},j="set"):l={value:f[3]},n!==0&&(n===1&&Ut(l.set,"#"+v,"set"),Ut(l[j||"value"],"#"+v,j))):n!==0&&(l=Object.getOwnPropertyDescriptor(o,v)),n===1?h={get:l.get,set:l.set}:n===2?h=l.value:n===3?h=l.get:n===4&&(h=l.set),typeof S=="function")(y=e(S,v,l,O,n,P,x,h,A))!==void 0&&(p(n,y),n===0?d=y:n===1?(d=y.init,T=y.get||h.get,g=y.set||h.set,h={get:T,set:g}):h=y);else for(var U=S.length-1;U>=0;U--){var R;(y=e(S[U],v,l,O,n,P,x,h,A))!==void 0&&(p(n,y),n===0?R=y:n===1?(R=y.init,T=y.get||h.get,g=y.set||h.set,h={get:T,set:g}):h=y,R!==void 0&&(d===void 0?d=R:typeof d=="function"?d=[d,R]:d.push(R)))}if(n===0||n===1){if(d===void 0)d=function(M,D){return D};else if(typeof d!="function"){var nt=d;d=function(M,D){for(var gt=D,vt=0;vt<nt.length;vt++)gt=nt[vt].call(M,gt);return gt}}else{var Gt=d;d=function(M,D){return Gt.call(M,D)}}a.push(d)}n!==0&&(n===1?(l.get=h.get,l.set=h.set):n===2?l.value=h:n===3?l.get=h:n===4&&(l.set=h),x?n===1?(a.push(function(M,D){return h.get.call(M,D)}),a.push(function(M,D){return h.set.call(M,D)})):n===2?a.push(h):a.push(function(M,D){return h.call(M,D)}):Object.defineProperty(o,v,l))}function k(a,o,f){for(var v,n,P,x=[],O=new Map,A=new Map,l=0;l<o.length;l++){var d=o[l];if(Array.isArray(d)){var j,h,b=d[1],y=d[2],T=d.length>3,g=b>=5,S=f;if(g?(j=a,(b-=5)!=0&&(h=n=n||[]),T&&!P&&(P=function(nt){return xe(nt)===a}),S=P):(j=a.prototype,b!==0&&(h=v=v||[])),b!==0&&!T){var U=g?A:O,R=U.get(y)||0;if(R===!0||R===3&&b!==4||R===4&&b!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+y);!R&&b>2?U.set(y,b):U.set(y,!0)}m(x,j,d,y,b,g,T,h,S)}}return C(x,v),C(x,n),x}function C(a,o){o&&a.push(function(f){for(var v=0;v<o.length;v++)o[v].call(f);return f})}return function(a,o,f,v){return{e:k(a,o,v),get c(){return function(n,P){if(P.length>0){for(var x=[],O=n,A=n.name,l=P.length-1;l>=0;l--){var d={v:!1};try{var j=P[l](O,{kind:"class",name:A,addInitializer:s(x,d)})}finally{d.v=!0}j!==void 0&&(p(10,j),O=j)}return[O,function(){for(var h=0;h<x.length;h++)x[h].call(O)}]}}(a,f)}}}}function bt(s,t,e,i){return(bt=ge())(s,t,e,i)}function ve(s){var t=ye(s,"string");return typeof t=="symbol"?t:t+""}function ye(s,t){if(typeof s!="object"||!s)return s;var e=s[Symbol.toPrimitive];if(e!==void 0){var i=e.call(s,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}function Ut(s,t,e){typeof t=="symbol"&&(t=(t=t.description)?"["+t+"]":"");try{Object.defineProperty(s,"name",{configurable:!0,value:e?e+" "+t:t})}catch{}return s}function xe(s){if(Object(s)!==s)throw TypeError("right-hand side of 'in' should be an object, got "+(s!==null?typeof s:"null"));return s}const _=32,X=160,we=[{character:"yeti",emotion:0},{character:"yeti",emotion:1},{character:"yeti",emotion:2},{character:"yeti",emotion:3},{character:"yeti",emotion:4},{character:"yeti",emotion:5},{character:"yeti",emotion:6},{character:"yeti",emotion:7}];function je(){return r.jsxs("div",{className:"absolute top-0 left-0 min-w-full min-h-full bg-gray-200",children:[r.jsx("div",{className:"sticky top-0 w-full px-2 py-1 bg-white border-b border-gray-300",children:"Posts demo"}),r.jsxs("div",{className:"max-w-3xl p-4 flex flex-col gap-3 mx-auto",children:[r.jsx(W,{funZone:r.jsx(H,{})}),r.jsx(W,{funZone:r.jsx(H,{})}),r.jsx(W,{funZone:r.jsx(H,{})}),r.jsx(W,{funZone:r.jsx(H,{})}),r.jsx(W,{funZone:r.jsx(H,{})}),r.jsx(W,{funZone:r.jsx(H,{})})]})]})}const H=kt(function(){const[t,e]=L.useState(null),[i,p]=L.useState(null);return L.useLayoutEffect(()=>{if(!t)return;const c=new Et(t);return p(c),()=>{c.stop(),p(null)}},[t]),r.jsxs("div",{className:"relative touch-none",children:[r.jsx("button",{ref:e,className:Wt("w-8 aspect-square border rounded-full flex items-center justify-center text-gray-500 border-gray-200 touch-none",i&&i.isActive&&"opacity-0"),onPointerDown:c=>i==null?void 0:i.dispatch("down",c),onPointerMove:c=>i==null?void 0:i.dispatch("move",c),onPointerUp:c=>i==null?void 0:i.dispatch("up",c),onPointerCancel:c=>i==null?void 0:i.dispatch("up",c),onLostPointerCapture:c=>i==null?void 0:i.dispatch("up",c),children:r.jsx(Ht,{})}),i&&r.jsx(Ce,{blob:i})]})}),xt=new mt(_/2,_/2);var G,q,V,Y,K,J,st,rt,Q,tt,Z,I,B;const Ot=class Ot{constructor(t){E(this,G);E(this,q);E(this,V);E(this,Y);E(this,K);E(this,J);E(this,st);E(this,rt);E(this,Q);E(this,tt);E(this,Z);E(this,I);E(this,B);this.triggerEl=t,w(this,G,(Nt(this),_t(this,xt))),w(this,q,Mt(this,xt)),w(this,V,Bt(this,xt)),w(this,Y,Lt(this,at.ZERO)),w(this,K,zt(this,!1)),w(this,J,Ft(this,null)),this.ticker=new Qt,this.characters=we.map((e,i)=>new Pt(this,e,i)),w(this,st,N("rt",()=>this.isOpen?300:160)),w(this,rt,N("rf",()=>this.isOpen?22:18)),w(this,Q,N("pt",()=>this.isOpen?300:200)),w(this,tt,N("pf",()=>this.isOpen?22:8)),w(this,Z,8),w(this,I,new et({target:N("picker.r",()=>this.isOpen?X/2:_/2),ticker:this.ticker,tension:u(this,st),friction:u(this,rt)})),w(this,B,{x:new et({target:N("picker.cx",()=>{if(!this.isOpen)return this.triggerOffsetCenter.x;const e=-this.screenDelta.x+this.screenBounds.left+u(this,Z)+u(this,I).target,i=-this.screenDelta.x+this.screenBounds.right-u(this,Z)-u(this,I).target;return Tt(e,i,this.position.x)}),ticker:this.ticker,tension:u(this,Q),friction:u(this,tt)}),y:new et({target:N("picker.cy",()=>{if(!this.isOpen)return this.triggerOffsetCenter.y;const e=-this.screenDelta.y+this.screenBounds.top+u(this,Z)+u(this,I).value,i=-this.screenDelta.y+this.screenBounds.bottom-u(this,Z)-u(this,I).value;return Tt(e,i,this.position.y)}),ticker:this.ticker,tension:u(this,Q),friction:u(this,tt)})}),this.trigger=wt.create(_/2,_/2,_/2),this.interactionState={type:"idle"},this.lastRelevantEvent=null,this.cover=new me({down:e=>this.dispatch("down",e),move:e=>this.dispatch("move",e),up:e=>this.dispatch("up",e)}),this.onScroll=()=>{this.lastRelevantEvent&&this.isOpen&&(this.interactionState=this.update(this.lastRelevantEvent,this.interactionState))},this.ticker.start(),this.ticker.listen(()=>{this.isActive&&this.measure()}),this.measure(),window.addEventListener("scroll",this.onScroll)}get position(){return u(this,G)}set position(t){w(this,G,t)}get triggerOffsetCenter(){return u(this,q)}set triggerOffsetCenter(t){w(this,q,t)}get triggerClientCenter(){return u(this,V)}set triggerClientCenter(t){w(this,V,t)}get screenBounds(){return u(this,Y)}set screenBounds(t){w(this,Y,t)}get isOpen(){return u(this,K)}set isOpen(t){w(this,K,t)}get pickedCharacter(){return u(this,J)}set pickedCharacter(t){w(this,J,t)}get screenDelta(){return this.triggerClientCenter.sub(this.triggerOffsetCenter)}get picker(){return wt.create(u(this,B).x.value,u(this,B).y.value,u(this,I).value)}get isActive(){return this.isOpen||Math.abs(u(this,I).velocity)>0}get animationProgress(){return ht(_/2,X/2,u(this,I).value)}stop(){this.ticker.stop(),this.cover.remove(),window.removeEventListener("scroll",this.onScroll),u(this,I).destroy(),u(this,B).x.destroy(),u(this,B).y.destroy()}update(t,e){if(e.type==="idle")switch(t.type){case"down":{t.preventDefault(),this.cover.attach(),this.triggerEl.setPointerCapture(t.pointerId);const i=this.isActive;return this.measure(),this.updatePositionFromPointer(t.position),i||(u(this,I).reset(),u(this,B).x.reset(),u(this,B).y.reset()),this.isOpen=!0,{type:"pointing",pointerId:t.pointerId,initial:t.position}}case"move":case"up":return e}if("pointerId"in e&&t.pointerId!==e.pointerId)return e;switch(e.type==="pointing"&&t.position.distanceTo(e.initial)>10&&(e={type:"dragging",pointerId:t.pointerId}),this.updatePositionFromPointer(t.position),e.type){case"clicked":switch(t.type){case"down":return this.isOpen=!1,this.cover.remove(),{type:"idle"};case"move":case"up":return e;default:return yt(t.type)}case"pointing":switch(t.type){case"down":case"move":return e;case"up":return{type:"clicked"};default:return yt(t.type)}case"dragging":switch(t.type){case"down":case"move":return e;case"up":return this.isOpen=!1,this.cover.remove(),{type:"idle"};default:return yt(t.type)}}}updatePositionFromPointer(t){const e=this.triggerClientCenter,i=t.sub(e),p=i.magnitude(),c=200,m=Math.max(p-20,0)/c,k=m<1?te(m):(m-1)*(Math.PI/2)+1,C=c*k;if(this.position=this.triggerOffsetCenter.add(i.withMagnitude(C**.8)),p>20){const a=i.angle(),o=$t(Yt(this.characters,f=>Kt(a,f.angle)),"Assertion Error: minBy(this.characters, c => angleDistance(angle, c.angle))");this.pickedCharacter=o}else this.pickedCharacter=null}measure(){const t=at.from(this.triggerEl.getBoundingClientRect()).getCenter(),e=at.fromLeftTopWidthHeight(this.triggerEl.offsetLeft,this.triggerEl.offsetTop,this.triggerEl.offsetWidth,this.triggerEl.offsetHeight).getCenter(),i=at.fromLeftTopWidthHeight(0,0,window.innerWidth,window.innerHeight);this.triggerOffsetCenter.equals(e)||(this.triggerOffsetCenter=e),this.triggerClientCenter.equals(t)||(this.triggerClientCenter=t),this.screenBounds.equals(i)||(this.screenBounds=i)}dispatch(t,e){t==="down"&&e.preventDefault();const i={type:t,preventDefault:()=>e.preventDefault(),pointerId:e.pointerId,position:mt.fromEvent(e)};this.interactionState=this.update(i,this.interactionState),"pointerId"in this.interactionState?i.pointerId===this.interactionState.pointerId&&(this.lastRelevantEvent=i):e.isPrimary&&(this.lastRelevantEvent=i)}};G=new WeakMap,q=new WeakMap,V=new WeakMap,Y=new WeakMap,K=new WeakMap,J=new WeakMap,st=new WeakMap,rt=new WeakMap,Q=new WeakMap,tt=new WeakMap,Z=new WeakMap,I=new WeakMap,B=new WeakMap,[_t,Mt,Bt,Lt,zt,Ft,Nt]=bt(Ot,[[$,1,"position"],[$,1,"triggerOffsetCenter"],[$,1,"triggerClientCenter"],[$,1,"screenBounds"],[$,1,"isOpen"],[$,1,"pickedCharacter"],[ut,3,"screenDelta"],[ut,3,"picker"]],[]).e;let Et=Ot;var dt,pt,ft;const it=class it{constructor(t,e,i){E(this,dt,(Zt(this),lt(()=>se(N("delay",()=>this.parent.isOpen?Math.ceil(this.i/2)*40:0),this.parent.ticker,N("ap",()=>this.parent.animationProgress)))));E(this,pt,lt(()=>new et({target:N("ts",()=>this.isPicked?38:30),ticker:this.parent.ticker,tension:300,friction:22})));E(this,ft,lt(()=>new et({target:N("ts",()=>this.isPicked?X/2*.75:X/2*.65),ticker:this.parent.ticker,tension:300,friction:22})));this.parent=t,this.emoji=e,this.i=i}get animationProgress(){return u(this,dt).call(this).get()}get isPicked(){return this.parent.pickedCharacter===this}get angle(){const t=-Math.PI/2,e=Math.ceil(this.i/2),i=this.i%2===0?1:-1,p=Math.floor(this.parent.characters.length/2);return t+e*i/p*Math.PI}get radius(){return F(-_,u(this,ft).call(this).value,this.animationProgress)}get position(){const t=this.size;return this.parent.picker.center.add(mt.fromPolar(this.angle,this.radius)).sub(t*.5-3,t*.5+5)}get size(){const t=u(this,pt).call(this).value;return F(16,t,this.animationProgress)}get opacity(){return z(ht(_,it.MAX_RADIUS,this.radius))}};dt=new WeakMap,pt=new WeakMap,ft=new WeakMap,[Zt]=bt(it,[[ut,3,"angle"],[ut,3,"position"]],[]).e,it.MAX_RADIUS=X/2*.65;let Pt=it;const Ce=kt(function({blob:t}){const{picker:e,trigger:i,isActive:p,animationProgress:c}=t;if(!p)return null;const m=[`drop-shadow(0 1px 2px rgba(0, 0, 0, ${F(0,.1,z(c))}))`,`drop-shadow(0 1px 1px rgba(0, 0, 0, ${F(0,.06,z(c))}))`].join(" "),k=F(1,0,z(c)),C=z(ht(i.radius+16,i.radius,e.center.distanceTo(i.center))),a=z(ht(e.radius-i.radius+8,e.radius+i.radius-8,e.center.distanceTo(i.center))),o=Math.max(k,C,a),f=e.center.distanceTo(i.center)/(X/2),v=ee(z(f))*3,n=mt.fromPolar(i.center.angleTo(e.center),F(v*1.5,v,c)),P=Pe(e.withRadius(e.radius-.5),new wt(i.center.add(n.scale(.5)),Math.min(i.radius-.5,e.radius-.5)));return r.jsxs(r.Fragment,{children:[r.jsx("svg",{viewBox:`0 0 ${_} ${_}`,className:"overflow-visible pointer-events-none absolute top-0 left-0 touch-none",style:{filter:m},children:r.jsx("path",{d:P,className:"fill-white stroke-1 stroke-gray-200",strokeOpacity:z(1-c)})}),r.jsx("div",{className:"absolute top-0 left-0 w-8 aspect-square flex items-center justify-center text-gray-500 pointer-events-none touch-none",style:{opacity:o,transform:`translate(${n.x}px, ${n.y}px) rotate(${c*135}deg) scale(${F(1,1.2,c)})`},children:r.jsx(Ht,{})}),t.characters.map((x,O)=>r.jsx(Ee,{character:x},O))]})}),Ee=kt(function({character:t}){const i=t.position;return r.jsx(Ct,{sizePx:48,emoji:t.emoji,className:"absolute top-0 left-0 pointer-events-none",style:{transformOrigin:"top left",transform:`translate(${i.x}px, ${i.y}px) scale(${t.size/48})`,opacity:t.opacity}})});function Pe(s,t){const e=s.center.distanceTo(t.center),i=e+s.radius+t.radius,p=e**2/(s.radius+t.radius)/Math.PI,c=(e-(s.radius+t.radius))/((s.radius+t.radius)*1),m=F(i,p,ie(z(c))),k=s.withRadius(s.radius+m).intersectWithCircle(t.withRadius(t.radius+m));if(!k||k.length!==2){const P=s.radius>t.radius?s:t;return new Rt().circle(P).toString()}const[C,a]=k,o=C.moveToward(s.center,m),f=C.moveToward(t.center,m),v=a.moveToward(s.center,m),n=a.moveToward(t.center,m);return new Rt().moveTo(o).counterClockwiseArcTo(C,f).clockwiseArcTo(t.center,n).counterClockwiseArcTo(a,v).clockwiseArcTo(s.center,o).toString()}const Xt=ne([{path:"/emoji",element:r.jsx(ue,{})},{path:"*",element:r.jsx(je,{})}]);console.log(Xt);const ke=$t(document.getElementById("root"),'Assertion Error: document.getElementById("root")');qt(ke).render(r.jsx(oe,{router:Xt}));
