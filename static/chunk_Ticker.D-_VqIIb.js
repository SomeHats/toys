var B=e=>{throw TypeError(e)};var G=(e,t,f)=>t.has(e)||B("Cannot "+f);var R=(e,t,f)=>(G(e,t,"read from private field"),f?f.call(e):t.get(e)),S=(e,t,f)=>t.has(e)?B("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,f),I=(e,t,f,p)=>(G(e,t,"write to private field"),p?p.call(e,f):t.set(e,f),f);import{j as Z}from"./chunk_client.CotzxIPX.js";import{E as $}from"./chunk_EventEmitter.BsO-_0un.js";import{r as H}from"./chunk_signia.DFrXhBNW.js";import{f as tt}from"./chunk_utils.CSiPn6yw.js";import{r as C}from"./chunk_index.C5eOxiyT.js";const g=[];for(let e=0;e<256;e++)g[e]=(e<16?"0":"")+e.toString(16);const et=Math.PI/180;function rt(){const e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,f=Math.random()*4294967295|0,p=Math.random()*4294967295|0;return(g[e&255]+g[e>>8&255]+g[e>>16&255]+g[e>>24&255]+"-"+g[t&255]+g[t>>8&255]+"-"+g[t>>16&15|64]+g[t>>24&255]+"-"+g[f&63|128]+g[f>>8&255]+"-"+g[f>>16&255]+g[f>>24&255]+g[p&255]+g[p>>8&255]+g[p>>16&255]+g[p>>24&255]).toUpperCase()}function dt(e){return e*et}let K,L,N;function nt(){function e(u,o){return function(a){(function(h,r){if(h.v)throw Error("attempted to call addInitializer after decoration was finished")})(o),p(a,"An initializer"),u.push(a)}}function t(u,o){if(!u(o))throw new TypeError("Attempted to access private element on non-instance")}function f(u,o,a,h,r,x,d,M,b){var n;switch(r){case 1:n="accessor";break;case 2:n="method";break;case 3:n="getter";break;case 4:n="setter";break;default:n="field"}var s,v,i={kind:n,name:d?"#"+o:it(o),static:x,private:d},m={v:!1};if(r!==0&&(i.addInitializer=e(h,m)),d||r!==0&&r!==2)if(r===2)s=function(c){return t(b,c),a.value};else{var l=r===0||r===1;(l||r===3)&&(s=d?function(c){return t(b,c),a.get.call(c)}:function(c){return a.get.call(c)}),(l||r===4)&&(v=d?function(c,y){t(b,c),a.set.call(c,y)}:function(c,y){a.set.call(c,y)})}else s=function(c){return c[o]},r===0&&(v=function(c,y){c[o]=y});var w=d?b.bind():function(c){return o in c};i.access=s&&v?{get:s,set:v,has:w}:s?{get:s,has:w}:{set:v,has:w};try{return u(M,i)}finally{m.v=!0}}function p(u,o){if(typeof u!="function")throw new TypeError(o+" must be a function")}function k(u,o){var a=typeof o;if(u===1){if(a!=="object"||o===null)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0");o.get!==void 0&&p(o.get,"accessor.get"),o.set!==void 0&&p(o.set,"accessor.set"),o.init!==void 0&&p(o.init,"accessor.init")}else if(a!=="function")throw new TypeError((u===0?"field":u===10?"class":"method")+" decorators must return a function or void 0")}function Q(u){return function(o){u(this,o)}}function W(u,o,a,h,r,x,d,M,b){var n,s,v,i,m,l,w,c,y=a[0];if(d?(r===0||r===1?(n={get:(m=a[3],function(){return m(this)}),set:Q(a[4])},v="get"):r===3?(n={get:a[3]},v="get"):r===4?(n={set:a[3]},v="set"):n={value:a[3]},r!==0&&(r===1&&q(n.set,"#"+h,"set"),q(n[v||"value"],"#"+h,v))):r!==0&&(n=Object.getOwnPropertyDescriptor(o,h)),r===1?i={get:n.get,set:n.set}:r===2?i=n.value:r===3?i=n.get:r===4&&(i=n.set),typeof y=="function")(l=f(y,h,n,M,r,x,d,i,b))!==void 0&&(k(r,l),r===0?s=l:r===1?(s=l.init,w=l.get||i.get,c=l.set||i.set,i={get:w,set:c}):i=l);else for(var j=y.length-1;j>=0;j--){var E;(l=f(y[j],h,n,M,r,x,d,i,b))!==void 0&&(k(r,l),r===0?E=l:r===1?(E=l.init,w=l.get||i.get,c=l.set||i.set,i={get:w,set:c}):i=l,E!==void 0&&(s===void 0?s=E:typeof s=="function"?s=[s,E]:s.push(E)))}if(r===0||r===1){if(s===void 0)s=function(P,_){return _};else if(typeof s!="function"){var A=s;s=function(P,_){for(var z=_,O=0;O<A.length;O++)z=A[O].call(P,z);return z}}else{var Y=s;s=function(P,_){return Y.call(P,_)}}u.push(s)}r!==0&&(r===1?(n.get=i.get,n.set=i.set):r===2?n.value=i:r===3?n.get=i:r===4&&(n.set=i),d?r===1?(u.push(function(P,_){return i.get.call(P,_)}),u.push(function(P,_){return i.set.call(P,_)})):r===2?u.push(i):u.push(function(P,_){return i.call(P,_)}):Object.defineProperty(o,h,n))}function X(u,o,a){for(var h,r,x,d=[],M=new Map,b=new Map,n=0;n<o.length;n++){var s=o[n];if(Array.isArray(s)){var v,i,m=s[1],l=s[2],w=s.length>3,c=m>=5,y=a;if(c?(v=u,(m-=5)!=0&&(i=r=r||[]),w&&!x&&(x=function(A){return st(A)===u}),y=x):(v=u.prototype,m!==0&&(i=h=h||[])),m!==0&&!w){var j=c?b:M,E=j.get(l)||0;if(E===!0||E===3&&m!==4||E===4&&m!==3)throw Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+l);!E&&m>2?j.set(l,m):j.set(l,!0)}W(d,v,s,l,m,c,w,i,y)}}return V(d,h),V(d,r),d}function V(u,o){o&&u.push(function(a){for(var h=0;h<o.length;h++)o[h].call(a);return a})}return function(u,o,a,h){return{e:X(u,o,h),get c(){return function(r,x){if(x.length>0){for(var d=[],M=r,b=r.name,n=x.length-1;n>=0;n--){var s={v:!1};try{var v=x[n](M,{kind:"class",name:b,addInitializer:e(d,s)})}finally{s.v=!0}v!==void 0&&(k(10,v),M=v)}return[M,function(){for(var i=0;i<d.length;i++)d[i].call(M)}]}}(u,a)}}}}function J(e,t,f,p){return(J=nt())(e,t,f,p)}function it(e){var t=ot(e,"string");return typeof t=="symbol"?t:t+""}function ot(e,t){if(typeof e!="object"||!e)return e;var f=e[Symbol.toPrimitive];if(f!==void 0){var p=f.call(e,t);if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function q(e,t,f){typeof t=="symbol"&&(t=(t=t.description)?"["+t+"]":"");try{Object.defineProperty(e,"name",{configurable:!0,value:f?f+" "+t:t})}catch{}return e}function st(e){if(Object(e)!==e)throw TypeError("right-hand side of 'in' should be an object, got "+(e!==null?typeof e:"null"));return e}var T,D;const F=class F{constructor(){S(this,T);S(this,D);this.id=(K(this),rt()),this.event=new $,I(this,T,L(this,0)),I(this,D,N(this,1e3/60)),this._stop=null}get elapsedMs(){return R(this,T)}set elapsedMs(t){I(this,T,t)}get deltaMs(){return R(this,D)}set deltaMs(t){I(this,D,t)}start(){if(this._stop)return this;let t=null;return this._stop=tt(f=>{if(t!==null){const p=f-t;this.elapsedMs+=p,this.deltaMs=p,this.event.emit(this)}t=f}),this}stop(){var t;return(t=this._stop)==null||t.call(this),this._stop=null,this}listen(t){return this.event.listen(t)}};T=new WeakMap,D=new WeakMap,[L,N,K]=J(F,[[H,1,"elapsedMs"],[H,1,"deltaMs"]],[]).e;let U=F;const ft=C.createContext(null);function vt({children:e}){const[t]=C.useState(()=>new U);return C.useEffect(()=>(t.start(),()=>{t.stop()}),[t]),Z.jsx(ft.Provider,{value:t,children:e})}export{U as T,vt as a,dt as d};
