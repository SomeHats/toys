import{a as c,b as m}from"./chunk_assert.pxkjFBOg.js";import{V as u}from"./chunk_Vector2.B_B2dMXe.js";import{r as o}from"./chunk_index.C5eOxiyT.js";import{R as E}from"./chunk_ResizeObserver.C8OzoCMD.js";function k(e){const t=o.useRef();return o.useLayoutEffect(()=>{t.current=e}),o.useDebugValue(e),o.useCallback((...n)=>{const r=t.current;return c(r,"fn does not exist"),r(...n)},[])}let l;const s=new Map,f=new WeakMap;function v(e){for(const t of e){f.set(t.target,t);for(const n of m(s.get(t.target),"callback does not exist for tracked entry"))n(t)}}function d(){return l??(l=new E(v)),l}function x(e,t){let n=s.get(e);n||(n=new Set,s.set(e,n),d().observe(e));const r=f.get(e);r&&t(r),n.add(t)}function z(e,t){const n=s.get(e);c(n,"element is not tracked");const r=n.delete(t);c(r,"callback did not exist for element"),n.size===0&&(s.delete(e),d().unobserve(e))}function h(e,t){const[n,r]=o.useState(null),a=k(t);return o.useLayoutEffect(()=>{if(!e)return;const i=b=>{r(a(b))};return x(e,i),()=>{z(e,i)}},[e,a]),n}function y(e){return new u(e.contentRect.width,e.contentRect.height)}function B(e){return new u(e.borderBoxSize[0].inlineSize,e.borderBoxSize[0].blockSize)}export{h as a,B as b,y as s,k as u};
