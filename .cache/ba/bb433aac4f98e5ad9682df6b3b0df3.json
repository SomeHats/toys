{"id":"gET3","dependencies":[{"name":"/home/runner/work/toys/toys/tsconfig.json","includedInParent":true,"mtime":1594853935979},{"name":"/home/runner/work/toys/toys/package.json","includedInParent":true,"mtime":1594853935975},{"name":"../lib/scene/SceneSystem","loc":{"line":19,"column":44},"parent":"/home/runner/work/toys/toys/src/network/TravellerFinder.ts","resolved":"/home/runner/work/toys/toys/src/lib/scene/SceneSystem.ts"},{"name":"../lib/QuadTree","loc":{"line":20,"column":41},"parent":"/home/runner/work/toys/toys/src/network/TravellerFinder.ts","resolved":"/home/runner/work/toys/toys/src/lib/QuadTree.ts"},{"name":"../lib/geom/AABB","loc":{"line":21,"column":37},"parent":"/home/runner/work/toys/toys/src/network/TravellerFinder.ts","resolved":"/home/runner/work/toys/toys/src/lib/geom/AABB.ts"},{"name":"./Traveller","loc":{"line":22,"column":42},"parent":"/home/runner/work/toys/toys/src/network/TravellerFinder.ts","resolved":"/home/runner/work/toys/toys/src/network/Traveller.ts"}],"generated":{"js":"\"use strict\";var e=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,\"__esModule\",{value:!0});var r=t(require(\"../lib/scene/SceneSystem\")),n=t(require(\"../lib/QuadTree\")),o=t(require(\"../lib/geom/AABB\")),i=t(require(\"./Traveller\")),u=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e(r,t),r.prototype.removeTraveller=function(e){this._quadTree.remove(e)},r.prototype.afterAddToScene=function(e){t.prototype.afterAddToScene.call(this,e),this._quadTree=new n.default(o.default.fromLeftTopRightBottom(0,0,e.width,e.height),function(e){return e.position})},r.prototype.beforeUpdate=function(){var e=this,t=this.getScene();this._quadTree.clear(),t.children.forEach(function(t){t instanceof i.default&&e._quadTree.insert(t)})},r.prototype.findTravellersInCircle=function(e){return this._quadTree.findItemsInCircle(e)},r.systemName=\"TravellerFinder\",r}(r.default);exports.default=u;"},"sourceMaps":{"js":{"mappings":[{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":0}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":13}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":17}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":19}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":25}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":30}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":41}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":52}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":56}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":58}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":67}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":69}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":72}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":79}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":81}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":88}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":104}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":105}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":115}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":129}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":136}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":145}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":147}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":150}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":152}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":162}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":166}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":175}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":177}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":180}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":184}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":188}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":193}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":195}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":197}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":212}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":217}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":219}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":222}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":224}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":230}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":232}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":236}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":243}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":252}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":254}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":257}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":266}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":270}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":275}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":287}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":289}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":291}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":293}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":296}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":298}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":308}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":315}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":317}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":324}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":331}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":335}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":337}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":347}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":349}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":359}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":363}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":367}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":370}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":372}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":378}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":383}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":400}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":409}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":412}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":419}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":422}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":424}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":435}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":437}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":438}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":446}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":450}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":457}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":472}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":480}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":493}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":494}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":501}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":505}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":509}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":511}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":513}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":521}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":550}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":552}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":554}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":562}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":582}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":584}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":586}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":594}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":615}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":617}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":619}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":627}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":643}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":645}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":654}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":657}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":666}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":670}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":677}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":684}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":687}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":689}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":695}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":700}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":712}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":40,"column":0},"generated":{"line":1,"column":717}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":45},"generated":{"line":1,"column":724}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":45},"generated":{"line":1,"column":726}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":45},"generated":{"line":1,"column":728}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":14,"column":2},"generated":{"line":1,"column":731}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":14,"column":2},"generated":{"line":1,"column":733}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":14,"column":2},"generated":{"line":1,"column":743}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":14,"column":2},"generated":{"line":1,"column":759}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":14,"column":18},"generated":{"line":1,"column":768}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":15,"column":9},"generated":{"line":1,"column":771}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":15,"column":9},"generated":{"line":1,"column":776}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":15,"column":19},"generated":{"line":1,"column":786}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":15,"column":26},"generated":{"line":1,"column":793}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":18,"column":2},"generated":{"line":1,"column":797}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":18,"column":2},"generated":{"line":1,"column":799}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":18,"column":2},"generated":{"line":1,"column":809}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":18,"column":2},"generated":{"line":1,"column":825}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":18,"column":18},"generated":{"line":1,"column":834}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":19,"column":4},"generated":{"line":1,"column":837}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":19,"column":4},"generated":{"line":1,"column":839}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":19,"column":10},"generated":{"line":1,"column":849}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":19,"column":25},"generated":{"line":1,"column":865}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":19,"column":25},"generated":{"line":1,"column":870}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":19,"column":26},"generated":{"line":1,"column":875}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":20,"column":9},"generated":{"line":1,"column":878}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":20,"column":9},"generated":{"line":1,"column":883}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":20,"column":21},"generated":{"line":1,"column":893}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":20,"column":25},"generated":{"line":1,"column":897}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":20,"column":25},"generated":{"line":1,"column":899}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":21,"column":6},"generated":{"line":1,"column":907}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":21,"column":6},"generated":{"line":1,"column":909}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":21,"column":11},"generated":{"line":1,"column":917}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":21,"column":34},"generated":{"line":1,"column":940}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":21,"column":37},"generated":{"line":1,"column":942}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":21,"column":40},"generated":{"line":1,"column":944}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":21,"column":46},"generated":{"line":1,"column":946}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":21,"column":53},"generated":{"line":1,"column":952}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":21,"column":59},"generated":{"line":1,"column":954}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":22,"column":6},"generated":{"line":1,"column":962}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":22,"column":6},"generated":{"line":1,"column":971}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":22,"column":19},"generated":{"line":1,"column":974}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":22,"column":19},"generated":{"line":1,"column":981}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":22,"column":29},"generated":{"line":1,"column":983}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":26,"column":2},"generated":{"line":1,"column":995}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":26,"column":2},"generated":{"line":1,"column":997}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":26,"column":2},"generated":{"line":1,"column":1007}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":26,"column":2},"generated":{"line":1,"column":1020}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":26,"column":2},"generated":{"line":1,"column":1031}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":26,"column":2},"generated":{"line":1,"column":1035}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":26,"column":2},"generated":{"line":1,"column":1037}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":27,"column":10},"generated":{"line":1,"column":1042}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":27,"column":18},"generated":{"line":1,"column":1044}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":27,"column":23},"generated":{"line":1,"column":1049}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":28,"column":9},"generated":{"line":1,"column":1060}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":28,"column":9},"generated":{"line":1,"column":1065}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":28,"column":19},"generated":{"line":1,"column":1075}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":1,"column":1083}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":29,"column":10},"generated":{"line":1,"column":1085}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":29,"column":19},"generated":{"line":1,"column":1094}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":29,"column":27},"generated":{"line":1,"column":1102}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":29,"column":27},"generated":{"line":1,"column":1111}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":30,"column":10},"generated":{"line":1,"column":1114}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":30,"column":27},"generated":{"line":1,"column":1127}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":30,"column":27},"generated":{"line":1,"column":1129}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":31,"column":8},"generated":{"line":1,"column":1138}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":31,"column":13},"generated":{"line":1,"column":1140}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":31,"column":23},"generated":{"line":1,"column":1150}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":31,"column":30},"generated":{"line":1,"column":1157}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":37,"column":2},"generated":{"line":1,"column":1163}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":37,"column":2},"generated":{"line":1,"column":1165}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":37,"column":2},"generated":{"line":1,"column":1175}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":37,"column":2},"generated":{"line":1,"column":1198}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":37,"column":25},"generated":{"line":1,"column":1207}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":38,"column":11},"generated":{"line":1,"column":1210}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":38,"column":11},"generated":{"line":1,"column":1217}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":38,"column":16},"generated":{"line":1,"column":1222}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":38,"column":26},"generated":{"line":1,"column":1232}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":38,"column":44},"generated":{"line":1,"column":1250}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":10,"column":9},"generated":{"line":1,"column":1254}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":10,"column":9},"generated":{"line":1,"column":1256}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":10,"column":22},"generated":{"line":1,"column":1267}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":40,"column":0},"generated":{"line":1,"column":1285}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":1287}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":45},"generated":{"line":1,"column":1288}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":45},"generated":{"line":1,"column":1290}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":1299}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":1307}},{"source":"network/TravellerFinder.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":1315}}],"sources":{"network/TravellerFinder.ts":"// @flow\nimport Scene from '../lib/scene/Scene';\nimport SceneSystem from '../lib/scene/SceneSystem';\nimport QuadTree from '../lib/QuadTree';\nimport Circle from '../lib/geom/Circle';\nimport AABB from '../lib/geom/AABB';\nimport Traveller from './Traveller';\n\nexport default class TravellerFinder extends SceneSystem {\n  static systemName = 'TravellerFinder';\n\n  _quadTree!: QuadTree<Traveller>;\n\n  removeTraveller(traveller: Traveller) {\n    this._quadTree.remove(traveller);\n  }\n\n  afterAddToScene(scene: Scene) {\n    super.afterAddToScene(scene);\n    this._quadTree = new QuadTree(\n      AABB.fromLeftTopRightBottom(0, 0, scene.width, scene.height),\n      traveller => traveller.position,\n    );\n  }\n\n  beforeUpdate() {\n    const scene = this.getScene();\n    this._quadTree.clear();\n    scene.children.forEach(child => {\n      if (child instanceof Traveller) {\n        this._quadTree.insert(child);\n      }\n    });\n    // this._quadTree.debugDraw('red');\n  }\n\n  findTravellersInCircle(circle: Circle) {\n    return this._quadTree.findItemsInCircle(circle);\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"c6f2404dbdd1b77ae4d8930b666f91c9","cacheData":{"env":{}}}