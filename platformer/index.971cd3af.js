!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequire0561;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var s={id:e,exports:{}};return t[e]=s,o.call(s.exports,s,s.exports),s.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},e.parcelRequire0561=o);var s,r,i=o("8TSCy"),a=(i=o("8TSCy"),o("8OvEy")),u=o("9gByv"),l=o("8qLe2"),c=function(){"use strict";function e(t){var n=this,o=this;i.classCallCheck(this,e);var s=new Map,r=new Map,a=!0,c=!1,A=void 0;try{for(var E,f=l.entries(t)[Symbol.iterator]();!(a=(E=f.next()).done);a=!0){var _=i.slicedToArray(E.value,2),D=_[0],d=_[1],C=!0,T=!1,h=void 0;try{for(var I,R=d[Symbol.iterator]();!(C=(I=R.next()).done);C=!0){var S=I.value;s.set(S,D)}}catch(e){T=!0,h=e}finally{try{C||null==R.return||R.return()}finally{if(T)throw h}}r.set(D,{downEvent:new u.default,upEvent:new u.default,isDown:!1})}}catch(e){c=!0,A=e}finally{try{a||null==f.return||f.return()}finally{if(c)throw A}}this.keyCodeToAction=s,this.actionInfo=r,document.addEventListener("keydown",(function(e){var t=n.getActionInfoForKeyCodeIfExists(e.keyCode);t&&(t.isDown=!0,t.downEvent.emit())})),document.addEventListener("keyup",(function(e){var t=o.getActionInfoForKeyCodeIfExists(e.keyCode);t&&(t.isDown=!1,t.upEvent.emit())}))}return i.createClass(e,[{key:"isDown",value:function(e){return this.getActionInfo(e).isDown}},{key:"onDown",value:function(e,t){return this.getActionInfo(e).downEvent.listen(t)}},{key:"onUp",value:function(e,t){return this.getActionInfo(e).upEvent.listen(t)}},{key:"getActionInfoForKeyCodeIfExists",value:function(e){var t=this.keyCodeToAction.get(e);return t?this.getActionInfo(t):null}},{key:"getActionInfo",value:function(e){var t=this.actionInfo.get(e);return a.assert(t),t}}]),e}(),A=o("aCcLp"),E=o("71uov"),f=o("39Hjj");(r=s||(s={}))[r.THAT_KEY_HAS_NO_KEYCODE=0]="THAT_KEY_HAS_NO_KEYCODE",r[r.BREAK=3]="BREAK",r[r.BACKSPACE_DELETE=8]="BACKSPACE_DELETE",r[r.TAB=9]="TAB",r[r.CLEAR=12]="CLEAR",r[r.ENTER=13]="ENTER",r[r.SHIFT=16]="SHIFT",r[r.CTRL=17]="CTRL",r[r.ALT=18]="ALT",r[r.PAUSE_BREAK=19]="PAUSE_BREAK",r[r.CAPS_LOCK=20]="CAPS_LOCK",r[r.ESCAPE=27]="ESCAPE",r[r.SPACE=32]="SPACE",r[r.PAGE_UP=33]="PAGE_UP",r[r.PAGE_DOWN=34]="PAGE_DOWN",r[r.END=35]="END",r[r.HOME=36]="HOME",r[r.LEFT_ARROW=37]="LEFT_ARROW",r[r.UP_ARROW=38]="UP_ARROW",r[r.RIGHT_ARROW=39]="RIGHT_ARROW",r[r.DOWN_ARROW=40]="DOWN_ARROW",r[r.SELECT=41]="SELECT",r[r.PRINT=42]="PRINT",r[r.EXECUTE=43]="EXECUTE",r[r.PRINT_SCREEN=44]="PRINT_SCREEN",r[r.INSERT=45]="INSERT",r[r.DELETE=46]="DELETE",r[r.HELP=47]="HELP",r[r.DIGIT_0=48]="DIGIT_0",r[r.DIGIT_1=49]="DIGIT_1",r[r.DIGIT_2=50]="DIGIT_2",r[r.DIGIT_3=51]="DIGIT_3",r[r.DIGIT_4=52]="DIGIT_4",r[r.DIGIT_5=53]="DIGIT_5",r[r.DIGIT_6=54]="DIGIT_6",r[r.DIGIT_7=55]="DIGIT_7",r[r.DIGIT_8=56]="DIGIT_8",r[r.DIGIT_9=57]="DIGIT_9",r[r.COLON=58]="COLON",r[r.LESS_THAN=60]="LESS_THAN",r[r.A=65]="A",r[r.B=66]="B",r[r.C=67]="C",r[r.D=68]="D",r[r.E=69]="E",r[r.F=70]="F",r[r.G=71]="G",r[r.H=72]="H",r[r.I=73]="I",r[r.J=74]="J",r[r.K=75]="K",r[r.L=76]="L",r[r.M=77]="M",r[r.N=78]="N",r[r.O=79]="O",r[r.P=80]="P",r[r.Q=81]="Q",r[r.R=82]="R",r[r.S=83]="S",r[r.T=84]="T",r[r.U=85]="U",r[r.V=86]="V",r[r.W=87]="W",r[r.X=88]="X",r[r.Y=89]="Y",r[r.Z=90]="Z",r[r.NUMPAD_0=96]="NUMPAD_0",r[r.NUMPAD_1=97]="NUMPAD_1",r[r.NUMPAD_2=98]="NUMPAD_2",r[r.NUMPAD_3=99]="NUMPAD_3",r[r.NUMPAD_4=100]="NUMPAD_4",r[r.NUMPAD_5=101]="NUMPAD_5",r[r.NUMPAD_6=102]="NUMPAD_6",r[r.NUMPAD_7=103]="NUMPAD_7",r[r.NUMPAD_8=104]="NUMPAD_8",r[r.NUMPAD_9=105]="NUMPAD_9",r[r.NUMPAD_MULTIPLY=106]="NUMPAD_MULTIPLY",r[r.NUMPAD_ADD=107]="NUMPAD_ADD",r[r.NUMPAD_PERIOD=108]="NUMPAD_PERIOD",r[r.NUMPAD_SUBTRACT=109]="NUMPAD_SUBTRACT",r[r.F1=112]="F1",r[r.F2=113]="F2",r[r.F3=114]="F3",r[r.F4=115]="F4",r[r.F5=116]="F5",r[r.F6=117]="F6",r[r.F7=118]="F7",r[r.F8=119]="F8",r[r.F9=120]="F9",r[r.F10=121]="F10",r[r.F11=122]="F11",r[r.F12=123]="F12",r[r.F13=124]="F13",r[r.F14=125]="F14",r[r.F15=126]="F15",r[r.F16=127]="F16",r[r.F17=128]="F17",r[r.F18=129]="F18",r[r.F19=130]="F19",r[r.F20=131]="F20",r[r.F21=132]="F21",r[r.F22=133]="F22",r[r.F23=134]="F23",r[r.F24=135]="F24",r[r.F25=136]="F25",r[r.F26=137]="F26",r[r.F27=138]="F27",r[r.F28=139]="F28",r[r.F29=140]="F29",r[r.F30=141]="F30",r[r.F31=142]="F31",r[r.F32=143]="F32",r[r.NUM_LOCK=144]="NUM_LOCK",r[r.SCROLL_LOCK=145]="SCROLL_LOCK",r[r.AIRPLANE_MODE=151]="AIRPLANE_MODE",r[r.PAGE_BACKWARD=166]="PAGE_BACKWARD",r[r.PAGE_FORWARD=167]="PAGE_FORWARD",r[r.HOME_KEY=172]="HOME_KEY",r[r.SEMI_COLON=186]="SEMI_COLON",r[r.EQUAL_SIGN=187]="EQUAL_SIGN",r[r.COMMA=188]="COMMA",r[r.DASH=189]="DASH",r[r.PERIOD=190]="PERIOD",r[r.FORWARD_SLASH=191]="FORWARD_SLASH",r[r.GRAVE_ACCENT=192]="GRAVE_ACCENT",r[r.OPEN_BRACKET=219]="OPEN_BRACKET",r[r.BACK_SLASH=220]="BACK_SLASH",r[r.CLOSE_BRACKET=221]="CLOSE_BRACKET",r[r.SINGLE_QUOTE=222]="SINGLE_QUOTE";var _=o("3Nswo"),D=o("bADSp"),d=o("dLeLC"),C=(i=o("8TSCy"),a=o("8OvEy"),"$$AbstractSceneSystem$$"),T=function(){"use strict";function e(){i.classCallCheck(this,e),this.scene=null,a.assert(this.constructor!==e,"SceneSystem is an abstract class that must be extended"),a.assert(this.constructor.systemName!==C,"classes extending SceneSystem must override SceneSystem.systemName")}return i.createClass(e,[{key:"getScene",value:function(){return a.assert(this.scene,"scene is required"),this.scene}},{key:"afterAddToScene",value:function(e){this.scene=e}},{key:"beforeRemoveFromScene",value:function(e){this.scene=null}},{key:"beforeUpdate",value:function(e){}},{key:"afterUpdate",value:function(e){}},{key:"beforeDraw",value:function(e,t){}},{key:"afterDraw",value:function(e,t){}}]),e}();T.systemName=C;var h=function(e){"use strict";function t(){return i.classCallCheck(this,t),i.possibleConstructorReturn(this,i.getPrototypeOf(t).apply(this,arguments))}return i.inherits(t,e),i.createClass(t,[{key:"afterAddToScene",value:function(e){i.get(i.getPrototypeOf(t.prototype),"afterAddToScene",this).call(this,e),this.debugDraw=new A.DebugDraw(e.ctx)}}]),t}(T);h.systemName="DebugDragSystem";var I=function(e){"use strict";function t(){return i.classCallCheck(this,t),i.possibleConstructorReturn(this,i.getPrototypeOf(t).apply(this,arguments))}return i.inherits(t,e),i.createClass(t,[{key:"afterAddToScene",value:function(e){i.get(i.getPrototypeOf(t.prototype),"afterAddToScene",this).call(this,e),this.debugDraw=new A.DebugDraw(e.ctx)}},{key:"afterDraw",value:function(){}}]),t}(T);I.systemName="AABBDebugDrawSystem";var R=function(e){"use strict";function t(e,n){var o;return i.classCallCheck(this,t),(o=i.possibleConstructorReturn(this,i.getPrototypeOf(t).call(this,e))).value=n,o}return i.inherits(t,e),i.createClass(t,[{key:"setOrigin",value:function(e){this.value=new E.default(e,this.value.size)}},{key:"beforeDraw",value:function(e,t){e.save(),e.translate(this.value.left,this.value.top)}},{key:"afterDraw",value:function(e,t){e.restore()}}]),t}(_.default),S=function(e){"use strict";function t(e,n){var o;return i.classCallCheck(this,t),(o=i.possibleConstructorReturn(this,i.getPrototypeOf(t).call(this,e))).opts=n,o}return i.inherits(t,e),i.createClass(t,[{key:"getAABB",value:function(){return this.entity.getComponent(R).value}},{key:"draw",value:function(e){this.getScene().getSystem(h).debugDraw.aabb(new E.default(f.default.ZERO,this.getAABB().size),this.opts)}}]),t}(_.default),F=function(e){"use strict";function t(e,n,o){var s;return i.classCallCheck(this,t),(s=i.possibleConstructorReturn(this,i.getPrototypeOf(t).call(this,e))).moveSpeed=n,s.controls=o,s}return i.inherits(t,e),i.createClass(t,[{key:"update",value:function(e){var t=this.entity.getComponent(R),n=t.value.origin;this.controls.isDown("left")&&(n=n.sub(new f.default(this.moveSpeed*e,0))),this.controls.isDown("right")&&(n=n.add(new f.default(this.moveSpeed*e,0))),this.controls.isDown("jump")&&(n=n.sub(new f.default(0,this.moveSpeed*e))),this.controls.isDown("down")&&(n=n.add(new f.default(0,this.moveSpeed*e))),t.setOrigin(n)}}]),t}(_.default),y=new d.default(800,600,window.devicePixelRatio);y.addSystem(new h);var P=new D.default;P.addComponent(R,new E.default(new f.default(200,200),new f.default(20,30))),P.addComponent(S,{fill:"lime",stroke:"black",strokeWidth:1}),P.addComponent(F,.4,new c({left:[s.A,s.LEFT_ARROW],right:[s.D,s.RIGHT_ARROW],jump:[s.W,s.UP_ARROW,s.SPACE],down:[s.S]})),y.addChild(P),y.appendTo(document.getElementById("root")),y.start(),console.log(y)}();
//# sourceMappingURL=index.971cd3af.js.map
